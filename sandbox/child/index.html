<!DOCTYPE html>
<html>
    <head>
        <title>Datadog UI Apps SDK Sandbox: Child</title>
    </head>

    <body>
        <h4>Datadog UI Apps SDK Sandbox: Child</h4>
        <div id="target">Link to public dashboard:&nbsp</div>
        <script src="dist/ui-apps-sdk.min.js"></script>
        <script>
            const client = DD_SDK.init({ debug: true }, context => {
                console.log('Received app context', context);
            });

            client.events.on('dashboard_cog_menu_context', context => {
                console.log('Received dashboard cog menu context', context);

                const b = document.createElement('button');
                b.innerHTML = 'Click me to open the URL in a new tab';
                b.onclick = () => {
                    console.log(context.shareToken);
                    // client.triggerEvent('open_url', {
                    //     url: context.shareToken
                    // });
                };

                document.getElementById('target').appendChild(b);
            });
        </script>
    </body>
</html>
