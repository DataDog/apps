import { init } from '@datadog/ui-extensions-sdk';{{#if dashboardCogMenu}}
import { setupDashboardCogMenu } from './dashboard-cog-menu';{{/if}}{{#if modal}}
import { setupModal } from './modal';{{/if}}{{#if widgetContextMenu}}

export default function setup() {
    const client = init();{{#if dashboardCogMenu}}
    setupDashboardCogMenu(client);{{/if}}{{#if modal}}
    setupModal(client);{{/if}}{{#if widgetContextMenu}}

    const root = document.getElementById('root');
    if (!root) {
        return;
    }

    root.innerHTML = `
    <div>
      The application controller is running in the background.
    </div>{{#if customWidget}}
    <a href='http://localhost:3000/custom-widget'>Click here to open your custom widget</a>{{/if}}
`;
}
