!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DD_SDK=t():e.DD_SDK=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION=t.UiAppEventType=t.UiAppCapabilityType=t.Host=void 0,function(e){e.PROD="https://app.datadoghq.com/",e.STAGE="https://dd.datad0g.com/"}(t.Host||(t.Host={})),function(e){e.APP_CONTEXT="app_context",e.DASHBOARD_COG_MENU="dashboard_cog_menu"}(t.UiAppCapabilityType||(t.UiAppCapabilityType={})),function(e){e.DASHBOARD_COG_MENU_CONTEXT="dashboard_cog_menu_context"}(t.UiAppEventType||(t.UiAppEventType={})),t.SDK_VERSION="0.1.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=e=>e.debug?{log:e=>console.log("dd-apps: "+e),error:e=>console.error("dd-apps: "+e)}:{log(){},error(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=n(3);let r;t.init=(e,t)=>(r||(r=new i.DDClient(e)),t&&r.getContext().then(t),r)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DDClient=void 0;const r=n(4),o=n(5),s=n(0),a=n(1),c={host:s.Host.STAGE,debug:!1};t.DDClient=class{constructor(e={}){this.host=e.host||c.host,this.debug=e.debug||c.debug,this.framePostClient=new r.ChildClient({debug:this.debug,profile:this.debug,parentContext:{sdkVersion:s.SDK_VERSION}}),this.logger=a.getLogger(e),this.capabilityManagers=o.capabilityManagers.map(e=>new e({host:this.host,debug:this.debug},this.framePostClient)),this.capabilityManagers.forEach(e=>e.applyAdditionalMethods(this))}on(e,t){const n=this.getManagerByEventType(e);if(!n)return this.logger.error("Unknown event type"),()=>{};return this.framePostClient.on(e,(...r)=>i(this,void 0,void 0,(function*(){(yield n.isEnabled())?t(...r):this.logger.error(`The ${n.type} capability must be enabled to respond to events of type ${e}.`)})))}getContext(){return i(this,void 0,void 0,(function*(){return this.framePostClient.getContext()}))}getManagerByType(e){return this.capabilityManagers.find(t=>t.type===e)}getManagerByEventType(e){return this.capabilityManagers.find(t=>t.events.includes(e))}}},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_KEY_GET_PROFILE=t.REQUEST_TIMEOUT=t.TransactionDirection=t.ProfileEventType=t.MessageAPIVersion=t.MessageType=void 0,function(e){e.CHANNEL_INIT="channel_init",e.EVENT="event",e.REQUEST="request",e.RESPONSE="response"}(t.MessageType||(t.MessageType={})),function(e){e.v1="framepost/v1"}(t.MessageAPIVersion||(t.MessageAPIVersion={})),function(e){e.POST_MESSAGE="post_message",e.RECEIVE_MESSAGE="receive_message"}(t.ProfileEventType||(t.ProfileEventType={})),function(e){e.UP="up",e.DOWN="down"}(t.TransactionDirection||(t.TransactionDirection={})),t.REQUEST_TIMEOUT=1e4,t.REQUEST_KEY_GET_PROFILE="framepost_get_profile"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=(e,t)=>t?{log:t=>console.log(`${e}: ${t}`),error:t=>console.error(`${e}: ${t}`)}:{log(){},error(){}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SharedClient=void 0;const r=n(0),o=n(6),s=n(3);t.SharedClient=class{constructor({debug:e=!1,profile:t=!1}={}){this.debug=e,this.profile=t,this.channel=s.defer(),this.eventSubscriptions={},this.responseSubscriptions={},this.requestSubscriptions={},this.logger=this.getLogger(),this.profiler=o.getProfiler(t),this.messageListener=this.messageListener.bind(this),window.addEventListener("message",this.messageListener),this.logger.log("Client initialized. Listening for messages"),this.channel.promise.then(()=>{this.logger.log("Secure parent <-> child channel established")})}send(e,t){return i(this,void 0,void 0,(function*(){return this.postMessage(r.MessageType.EVENT,e,t)}))}on(e,t){this.eventSubscriptions[e]||(this.eventSubscriptions[e]={});const n=s.randomInsecureId(8);return this.eventSubscriptions[e][n]=t,this.logger.log(`Registered handler for event "${e}"`),()=>{this.eventSubscriptions[e]=s.omit(this.eventSubscriptions[e],n),this.logger.log("Unsubscribed handler for event "+e)}}request(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.postMessage(r.MessageType.REQUEST,e,t),i=()=>{this.responseSubscriptions=s.omit(this.responseSubscriptions,n.id)};return new Promise((e,t)=>{let o;this.responseSubscriptions[n.id]=(t,n)=>{clearTimeout(o),i(),e(t)},o=setTimeout(()=>{i(),t("Request timed out")},r.REQUEST_TIMEOUT)})}))}onRequest(e,t){return this.requestSubscriptions[e]=(n,o)=>i(this,void 0,void 0,(function*(){const i=yield t(n,o);this.postMessage(r.MessageType.RESPONSE,e,i,o.id)})),()=>{this.requestSubscriptions=s.omit(this.requestSubscriptions,e)}}getContext(){return i(this,void 0,void 0,(function*(){const{context:e}=yield this.channel.promise;return e}))}destroy(){window.removeEventListener("message",this.messageListener)}messageListener(e){return i(this,void 0,void 0,(function*(){const t=this.isValidMessage(e);if(t&&e.data.type===r.MessageType.CHANNEL_INIT)return this.establishChannel(e),void this.profiler.logEvent(r.ProfileEventType.RECEIVE_MESSAGE,e.data);if(yield this.isFromSource(e))if(t){switch(e.data.type){case r.MessageType.EVENT:this.handleEvent(e);break;case r.MessageType.REQUEST:this.handleRequest(e);break;case r.MessageType.RESPONSE:this.handleResponse(e)}this.profiler.logEvent(r.ProfileEventType.RECEIVE_MESSAGE,e.data)}else this.logger.error("Invalid message format. Skipping.")}))}handleEvent(e){const t=e.data,n=this.eventSubscriptions[t.key];n&&Object.values(n).forEach(e=>e(t.data,t))}handleRequest(e){const t=e.data,n=this.requestSubscriptions[t.key];n&&(n(t.data,t),this.logger.log("Handled request type "+t.key))}handleResponse(e){const t=e.data,n=t.requestId,i=n&&this.responseSubscriptions[n];i&&i(t.data,t)}postMessage(e,t,n,o){return i(this,void 0,void 0,(function*(){const{source:i,origin:a}=yield this.channel.promise,c={type:e,apiVersion:r.MessageAPIVersion.v1,key:t,data:n,id:s.randomInsecureId(),requestId:o};return i.postMessage(c,a),this.profiler.logEvent(r.ProfileEventType.POST_MESSAGE,c),c}))}isFromSource(e){return i(this,void 0,void 0,(function*(){const{source:t}=yield this.channel.promise;return e.source===t}))}isValidMessage(e){const t=e.data;return t.type&&t.id&&t.apiVersion===r.MessageAPIVersion.v1}}},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.profileMessages=t.omit=t.randomInsecureId=t.defer=void 0;const r=n(0);t.defer=()=>{let e=()=>{},t=()=>{};const n=new Promise((n,i)=>{e=n,t=i});return{resolve:e,reject:t,promise:n}},t.randomInsecureId=(e=16)=>[...Array(e)].map(()=>(~~(36*Math.random())).toString(36)).join(""),t.omit=(e,t)=>{const n=e,r=t;return n[r],i(n,["symbol"==typeof r?r:r+""])},t.profileMessages=(e,t)=>{const n=((e,t)=>{const n={};return e.forEach(e=>{n[(e=>e.message.id)(e)]=e}),n})(e.concat(t).filter(e=>e.type===r.ProfileEventType.RECEIVE_MESSAGE)),i=[],o=({date:e,message:t})=>{const i={id:t.id,direction:r.TransactionDirection.DOWN,postTime:e,message:t},o=n[t.id];return o&&(i.receiveTime=o.date,i.duration=(o.date.getTime()-e.getTime())/1e3),i};return e.filter(e=>e.type===r.ProfileEventType.POST_MESSAGE).forEach(e=>{const t=o(e);i.push(t)}),t.filter(e=>e.type===r.ProfileEventType.POST_MESSAGE).forEach(e=>{const t=o(e);t.direction=r.TransactionDirection.UP,i.push(t)}),i.filter(e=>e.message.key!==r.REQUEST_KEY_GET_PROFILE).sort((e,t)=>e.postTime.getTime()-t.postTime.getTime())}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=t.ChildClient=void 0;var o=n(5);Object.defineProperty(t,"ChildClient",{enumerable:!0,get:function(){return o.ChildClient}});var s=n(7);Object.defineProperty(t,"ParentClient",{enumerable:!0,get:function(){return s.ParentClient}}),r(n(8),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildClient=void 0;const i=n(0),r=n(1),o=n(2);class s extends o.SharedClient{constructor(e){super(e),this.parentContext=e.parentContext||null,this.profile&&this.onRequest(i.REQUEST_KEY_GET_PROFILE,()=>this.profiler.getEvents())}getLogger(){return r.getLogger("child-client",this.debug)}establishChannel(e){const t={source:e.source,origin:e.origin,context:e.data.data};this.channel.resolve(t),this.postMessage(i.MessageType.CHANNEL_INIT,"",this.parentContext)}}t.ChildClient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfiler=void 0,t.getProfiler=e=>{const t=[];return{logEvent(n,i){e&&t.push({type:n,message:i,date:new Date})},getEvents:()=>t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=void 0;const r=n(0),o=n(1),s=n(2),a=n(3);class c extends s.SharedClient{constructor(e){super(e)}requestChannel(e,t){if(this.frame=e,this.url=new URL(e.src),e.contentWindow){const n={type:r.MessageType.CHANNEL_INIT,apiVersion:r.MessageAPIVersion.v1,key:"",data:t,id:a.randomInsecureId()};e.contentWindow.postMessage(n,this.url.origin),this.profiler.logEvent(r.ProfileEventType.POST_MESSAGE,n)}}getMessageProfile(){return i(this,void 0,void 0,(function*(){const e=yield this.request(r.REQUEST_KEY_GET_PROFILE),t=this.profiler.getEvents();return a.profileMessages(t,e)}))}establishChannel(e){if(this.frame&&e.source===this.frame.contentWindow){const t={source:e.source,origin:e.origin,context:e.data.data};this.channel.resolve(t)}}getLogger(){return o.getLogger("parent-client",this.debug)}}t.ParentClient=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capabilityManagers=void 0;const i=n(0),r=n(6);class o extends r.CapabilityManager{constructor(){super(...arguments),this.type=i.UiAppCapabilityType.DASHBOARD_COG_MENU,this.events=[i.UiAppEventType.DASHBOARD_COG_MENU_CONTEXT]}getAdditionalClientMethods(){return{}}}t.capabilityManagers=[o]},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CapabilityManager=void 0;const r=n(1);t.CapabilityManager=class{constructor(e,t){this.host=e.host,this.debug=e.debug,this.logger=r.getLogger(e),this.framePostClient=t}applyAdditionalMethods(e){const t=this.getAdditionalClientMethods(),n={};Object.entries(t).forEach(([e,t])=>{n[e]=(...e)=>i(this,void 0,void 0,(function*(){if(yield this.isEnabled())return t(...e);this.logger.error(`The ${this.type} capability must be enabled to perform this action`)}))}),Object.assign(e,n)}isEnabled(){return i(this,void 0,void 0,(function*(){const{capabilities:e}=yield this.framePostClient.getContext();return e.includes(this.type)}))}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ERF9TREsvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0REX1NESy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ERF9TREsvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2ZyYW1lcG9zdC9kaXN0L2ZyYW1lcG9zdC5taW4uanMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vc3JjL2NhcGFiaWxpdGVzL2luZGV4LnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9jYXBhYmlsaXRlcy9jYXBhYmlsaXR5TWFuYWdlci50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSG9zdCIsIlVpQXBwQ2FwYWJpbGl0eVR5cGUiLCJVaUFwcEV2ZW50VHlwZSIsIlNES19WRVJTSU9OIiwiZ2V0TG9nZ2VyIiwib3B0aW9ucyIsImRlYnVnIiwibG9nIiwibWVzc2FnZSIsImNvbnNvbGUiLCJlcnJvciIsImNsaWVudCIsImluaXQiLCJjYWxsYmFjayIsIkREQ2xpZW50IiwiZ2V0Q29udGV4dCIsInRoZW4iLCJERUZBVUxUX09QVElPTlMiLCJob3N0IiwiU1RBR0UiLCJ0aGlzIiwiZnJhbWVQb3N0Q2xpZW50IiwiQ2hpbGRDbGllbnQiLCJwcm9maWxlIiwicGFyZW50Q29udGV4dCIsInNka1ZlcnNpb24iLCJsb2dnZXIiLCJjYXBhYmlsaXR5TWFuYWdlcnMiLCJtYXAiLCJNYW5hZ2VyIiwiZm9yRWFjaCIsIm1hbmFnZXIiLCJhcHBseUFkZGl0aW9uYWxNZXRob2RzIiwiZXZlbnRUeXBlIiwiaGFuZGxlciIsImdldE1hbmFnZXJCeUV2ZW50VHlwZSIsIm9uIiwiYXJncyIsImlzRW5hYmxlZCIsInR5cGUiLCJjYXBhYmlsaXR5VHlwZSIsImZpbmQiLCJldmVudHMiLCJpbmNsdWRlcyIsImUiLCJkZWZhdWx0IiwiUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEUiLCJSRVFVRVNUX1RJTUVPVVQiLCJUcmFuc2FjdGlvbkRpcmVjdGlvbiIsIlByb2ZpbGVFdmVudFR5cGUiLCJNZXNzYWdlQVBJVmVyc2lvbiIsIk1lc3NhZ2VUeXBlIiwiQ0hBTk5FTF9JTklUIiwiRVZFTlQiLCJSRVFVRVNUIiwiUkVTUE9OU0UiLCJ2MSIsIlBPU1RfTUVTU0FHRSIsIlJFQ0VJVkVfTUVTU0FHRSIsIlVQIiwiRE9XTiIsIl9fYXdhaXRlciIsIlByb21pc2UiLCJuZXh0IiwiYSIsInRocm93IiwiZG9uZSIsImFwcGx5IiwiU2hhcmVkQ2xpZW50IiwiY2hhbm5lbCIsImRlZmVyIiwiZXZlbnRTdWJzY3JpcHRpb25zIiwicmVzcG9uc2VTdWJzY3JpcHRpb25zIiwicmVxdWVzdFN1YnNjcmlwdGlvbnMiLCJwcm9maWxlciIsImdldFByb2ZpbGVyIiwibWVzc2FnZUxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb21pc2UiLCJwb3N0TWVzc2FnZSIsInJhbmRvbUluc2VjdXJlSWQiLCJvbWl0IiwiaWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY29udGV4dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc1ZhbGlkTWVzc2FnZSIsImRhdGEiLCJlc3RhYmxpc2hDaGFubmVsIiwibG9nRXZlbnQiLCJpc0Zyb21Tb3VyY2UiLCJoYW5kbGVFdmVudCIsImhhbmRsZVJlcXVlc3QiLCJoYW5kbGVSZXNwb25zZSIsInZhbHVlcyIsInJlcXVlc3RJZCIsInNvdXJjZSIsIm9yaWdpbiIsImFwaVZlcnNpb24iLCJfX3Jlc3QiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGVuZ3RoIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwcm9maWxlTWVzc2FnZXMiLCJyZXNvbHZlIiwicmVqZWN0IiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJqb2luIiwiY29uY2F0IiwiZmlsdGVyIiwiZGF0ZSIsImRpcmVjdGlvbiIsInBvc3RUaW1lIiwicmVjZWl2ZVRpbWUiLCJkdXJhdGlvbiIsImdldFRpbWUiLCJwdXNoIiwic29ydCIsIl9fY3JlYXRlQmluZGluZyIsIl9fZXhwb3J0U3RhciIsIlBhcmVudENsaWVudCIsInN1cGVyIiwib25SZXF1ZXN0IiwiZ2V0RXZlbnRzIiwiRGF0ZSIsImZyYW1lIiwidXJsIiwiVVJMIiwic3JjIiwiY29udGVudFdpbmRvdyIsInJlcXVlc3QiLCJEYXNoYm9hcmRDb2dNZW51TWFuYWdlciIsIkNhcGFiaWxpdHlNYW5hZ2VyIiwiREFTSEJPQVJEX0NPR19NRU5VIiwiREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFQiLCJhZGRpdGlvbmFsTWV0aG9kcyIsImdldEFkZGl0aW9uYWxDbGllbnRNZXRob2RzIiwid3JhcHBlZE1ldGhvZHMiLCJlbnRyaWVzIiwibWV0aG9kIiwiYXNzaWduIiwiY2FwYWJpbGl0aWVzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELElBRXBCRCxFQUFhLE9BQUlDLElBUm5CLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFDbENHLE9BQU9DLGVBQWVuQixFQUFTZSxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTdEIsR0FDWCxvQkFBWHVCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZW5CLEVBQVN1QixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sS0FRdkRuQixFQUFvQm9CLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRbkIsRUFBb0JtQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQXhCLEVBQW9CZ0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9uQixFQUFvQlEsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnZCLEVBQW9CMkIsRUFBSSxTQUFTaEMsR0FDaEMsSUFBSWUsRUFBU2YsR0FBVUEsRUFBTzJCLFdBQzdCLFdBQXdCLE9BQU8zQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSyxFQUFvQlEsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlYsRUFBb0JXLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHN0IsRUFBb0JnQyxFQUFJLEdBSWpCaEMsRUFBb0JBLEVBQW9CaUMsRUFBSSxHLG1KQ2xGckQsU0FBWUMsR0FDUixvQ0FDQSxrQ0FGSixDQUFZLEVBQUFBLE9BQUEsRUFBQUEsS0FBSSxLQUtoQixTQUFZQyxHQUNSLDRCQUNBLDBDQUZKLENBQVksRUFBQUEsc0JBQUEsRUFBQUEsb0JBQW1CLEtBSy9CLFNBQVlDLEdBQ1IsMERBREosQ0FBWSxFQUFBQSxpQkFBQSxFQUFBQSxlQUFjLEtBSWIsRUFBQUMsWUFBYyxTLGlHQ05kLEVBQUFDLFVBQWFDLEdBQ2xCQSxFQUFRQyxNQUNELENBQ0hDLElBQUlDLEdBQ09DLFFBQVFGLElBQUksWUFBWUMsR0FFbkNFLE1BQU1GLEdBQ0tDLFFBQVFDLE1BQU0sWUFBWUYsSUFJbEMsQ0FDSCxRQUNBLFksNEZDckJaLGFBR0EsSUFBSUcsRUFNUyxFQUFBQyxLQUFPLENBQ2hCUCxFQUNBUSxLQUVLRixJQUNEQSxFQUFTLElBQUksRUFBQUcsU0FBU1QsSUFHdEJRLEdBQ0FGLEVBQU9JLGFBQWFDLEtBQUtILEdBR3RCRixJLGdhQ3JCWCxhQUdBLE9BQ0EsT0FNQSxPQUdNTSxFQUFrQixDQUNwQkMsS0FBTSxFQUFBbEIsS0FBS21CLE1BQ1hiLE9BQU8sR0FHWCxpQkFPSSxZQUFZRCxFQUF5QixJQUNqQ2UsS0FBS0YsS0FBT2IsRUFBUWEsTUFBUUQsRUFBZ0JDLEtBQzVDRSxLQUFLZCxNQUFRRCxFQUFRQyxPQUFTVyxFQUFnQlgsTUFFOUNjLEtBQUtDLGdCQUFrQixJQUFJLEVBQUFDLFlBQXdCLENBQy9DaEIsTUFBT2MsS0FBS2QsTUFDWmlCLFFBQVNILEtBQUtkLE1BQ2RrQixjQUFlLENBQ1hDLFdBQVksRUFBQXRCLGVBSXBCaUIsS0FBS00sT0FBUyxFQUFBdEIsVUFBVUMsR0FFeEJlLEtBQUtPLG1CQUFxQixFQUFBQSxtQkFBbUJDLElBQ3pDQyxHQUNJLElBQUlBLEVBQ0EsQ0FDSVgsS0FBTUUsS0FBS0YsS0FDWFosTUFBT2MsS0FBS2QsT0FFaEJjLEtBQUtDLGtCQUlqQkQsS0FBS08sbUJBQW1CRyxRQUFRQyxHQUM1QkEsRUFBUUMsdUJBQXVCWixPQVV2QyxHQUNJYSxFQUNBQyxHQUVBLE1BQU1ILEVBQVVYLEtBQUtlLHNCQUFzQkYsR0FFM0MsSUFBS0YsRUFHRCxPQUZBWCxLQUFLTSxPQUFPaEIsTUFBTSxzQkFFWCxPQWVYLE9BQU9VLEtBQUtDLGdCQUFnQmUsR0FBR0gsRUFaUyxJQUFVSSxJQUFTLEVBQUQsdUNBQzlCTixFQUFRTyxhQUc1QkosS0FBV0csR0FFWGpCLEtBQUtNLE9BQU9oQixNQUNSLE9BQU9xQixFQUFRUSxnRUFBZ0VOLFVBV3pGLGEseUNBQ0YsT0FBT2IsS0FBS0MsZ0JBQWdCTixnQkFHeEIsaUJBQ0p5QixHQUVBLE9BQU9wQixLQUFLTyxtQkFBbUJjLEtBQzNCVixHQUFXQSxFQUFRUSxPQUFTQyxHQUk1QixzQkFDSlAsR0FFQSxPQUFPYixLQUFLTyxtQkFBbUJjLEtBQUtWLEdBQ2hDQSxFQUFRVyxPQUFPQyxTQUFTVixPLGdCQzNHbUtyRSxPQUF0SUgsRUFBT0QsUUFBeUosU0FBU29GLEdBQUcsSUFBSTFELEVBQUUsR0FBRyxTQUFTTyxFQUFFekIsR0FBRyxHQUFHa0IsRUFBRWxCLEdBQUcsT0FBT2tCLEVBQUVsQixHQUFHUixRQUFRLElBQUl1QyxFQUFFYixFQUFFbEIsR0FBRyxDQUFDQSxFQUFFQSxFQUFFQyxHQUFFLEVBQUdULFFBQVEsSUFBSSxPQUFPb0YsRUFBRTVFLEdBQUdHLEtBQUs0QixFQUFFdkMsUUFBUXVDLEVBQUVBLEVBQUV2QyxRQUFRaUMsR0FBR00sRUFBRTlCLEdBQUUsRUFBRzhCLEVBQUV2QyxRQUFRLE9BQU9pQyxFQUFFckIsRUFBRXdFLEVBQUVuRCxFQUFFcEIsRUFBRWEsRUFBRU8sRUFBRW5CLEVBQUUsU0FBU3NFLEVBQUUxRCxFQUFFbEIsR0FBR3lCLEVBQUVoQixFQUFFbUUsRUFBRTFELElBQUlSLE9BQU9DLGVBQWVpRSxFQUFFMUQsRUFBRSxDQUFDTixZQUFXLEVBQUdDLElBQUliLEtBQUt5QixFQUFFWCxFQUFFLFNBQVM4RCxHQUFHLG9CQUFvQjdELFFBQVFBLE9BQU9DLGFBQWFOLE9BQU9DLGVBQWVpRSxFQUFFN0QsT0FBT0MsWUFBWSxDQUFDQyxNQUFNLFdBQVdQLE9BQU9DLGVBQWVpRSxFQUFFLGFBQWEsQ0FBQzNELE9BQU0sS0FBTVEsRUFBRVAsRUFBRSxTQUFTMEQsRUFBRTFELEdBQUcsR0FBRyxFQUFFQSxJQUFJMEQsRUFBRW5ELEVBQUVtRCxJQUFJLEVBQUUxRCxFQUFFLE9BQU8wRCxFQUFFLEdBQUcsRUFBRTFELEdBQUcsaUJBQWlCMEQsR0FBR0EsR0FBR0EsRUFBRXhELFdBQVcsT0FBT3dELEVBQUUsSUFBSTVFLEVBQUVVLE9BQU9ZLE9BQU8sTUFBTSxHQUFHRyxFQUFFWCxFQUFFZCxHQUFHVSxPQUFPQyxlQUFlWCxFQUFFLFVBQVUsQ0FBQ1ksWUFBVyxFQUFHSyxNQUFNMkQsSUFBSSxFQUFFMUQsR0FBRyxpQkFBaUIwRCxFQUFFLElBQUksSUFBSTdDLEtBQUs2QyxFQUFFbkQsRUFBRW5CLEVBQUVOLEVBQUUrQixFQUFFLFNBQVNiLEdBQUcsT0FBTzBELEVBQUUxRCxJQUFJTSxLQUFLLEtBQUtPLElBQUksT0FBTy9CLEdBQUd5QixFQUFFQSxFQUFFLFNBQVNtRCxHQUFHLElBQUkxRCxFQUFFMEQsR0FBR0EsRUFBRXhELFdBQVcsV0FBVyxPQUFPd0QsRUFBRUMsU0FBUyxXQUFXLE9BQU9ELEdBQUcsT0FBT25ELEVBQUVuQixFQUFFWSxFQUFFLElBQUlBLEdBQUdBLEdBQUdPLEVBQUVoQixFQUFFLFNBQVNtRSxFQUFFMUQsR0FBRyxPQUFPUixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt5RSxFQUFFMUQsSUFBSU8sRUFBRUssRUFBRSxHQUFHTCxFQUFFQSxFQUFFTSxFQUFFLEdBQWo1QixDQUFxNUIsQ0FBQyxTQUFTNkMsRUFBRTFELEVBQUVPLEdBQUcsYUFBYWYsT0FBT0MsZUFBZU8sRUFBRSxhQUFhLENBQUNELE9BQU0sSUFBS0MsRUFBRTRELHdCQUF3QjVELEVBQUU2RCxnQkFBZ0I3RCxFQUFFOEQscUJBQXFCOUQsRUFBRStELGlCQUFpQi9ELEVBQUVnRSxrQkFBa0JoRSxFQUFFaUUsaUJBQVksRUFBTyxTQUFTUCxHQUFHQSxFQUFFUSxhQUFhLGVBQWVSLEVBQUVTLE1BQU0sUUFBUVQsRUFBRVUsUUFBUSxVQUFVVixFQUFFVyxTQUFTLFdBQXpGLENBQXFHckUsRUFBRWlFLGNBQWNqRSxFQUFFaUUsWUFBWSxLQUFLLFNBQVNQLEdBQUdBLEVBQUVZLEdBQUcsZUFBakIsQ0FBaUN0RSxFQUFFZ0Usb0JBQW9CaEUsRUFBRWdFLGtCQUFrQixLQUFLLFNBQVNOLEdBQUdBLEVBQUVhLGFBQWEsZUFBZWIsRUFBRWMsZ0JBQWdCLGtCQUE1RCxDQUErRXhFLEVBQUUrRCxtQkFBbUIvRCxFQUFFK0QsaUJBQWlCLEtBQUssU0FBU0wsR0FBR0EsRUFBRWUsR0FBRyxLQUFLZixFQUFFZ0IsS0FBSyxPQUE3QixDQUFxQzFFLEVBQUU4RCx1QkFBdUI5RCxFQUFFOEQscUJBQXFCLEtBQUs5RCxFQUFFNkQsZ0JBQWdCLElBQUk3RCxFQUFFNEQsd0JBQXdCLHlCQUF5QixTQUFTRixFQUFFMUQsRUFBRU8sR0FBRyxhQUFhZixPQUFPQyxlQUFlTyxFQUFFLGFBQWEsQ0FBQ0QsT0FBTSxJQUFLQyxFQUFFa0IsZUFBVSxFQUFPbEIsRUFBRWtCLFVBQVUsQ0FBQ3dDLEVBQUUxRCxJQUFJQSxFQUFFLENBQUNxQixJQUFJckIsR0FBR3VCLFFBQVFGLElBQUksR0FBR3FDLE1BQU0xRCxLQUFLd0IsTUFBTXhCLEdBQUd1QixRQUFRQyxNQUFNLEdBQUdrQyxNQUFNMUQsTUFBTSxDQUFDLFFBQVEsWUFBWSxTQUFTMEQsRUFBRTFELEVBQUVPLEdBQUcsYUFBYSxJQUFJekIsRUFBRW9ELE1BQU1BLEtBQUt5QyxXQUFXLFNBQVNqQixFQUFFMUQsRUFBRU8sRUFBRXpCLEdBQUcsT0FBTyxJQUFJeUIsSUFBSUEsRUFBRXFFLFdBQVUsU0FBVS9ELEVBQUVqQixHQUFHLFNBQVNMLEVBQUVtRSxHQUFHLElBQUl2RSxFQUFFTCxFQUFFK0YsS0FBS25CLElBQUksTUFBTUEsR0FBRzlELEVBQUU4RCxJQUFJLFNBQVNvQixFQUFFcEIsR0FBRyxJQUFJdkUsRUFBRUwsRUFBRWlHLE1BQU1yQixJQUFJLE1BQU1BLEdBQUc5RCxFQUFFOEQsSUFBSSxTQUFTdkUsRUFBRXVFLEdBQUcsSUFBSTFELEVBQUUwRCxFQUFFc0IsS0FBS25FLEVBQUU2QyxFQUFFM0QsUUFBUUMsRUFBRTBELEVBQUUzRCxNQUFNQyxhQUFhTyxFQUFFUCxFQUFFLElBQUlPLEdBQUUsU0FBVW1ELEdBQUdBLEVBQUUxRCxPQUFPOEIsS0FBS3ZDLEVBQUV1RixHQUFHM0YsR0FBR0wsRUFBRUEsRUFBRW1HLE1BQU12QixFQUFFMUQsR0FBRyxLQUFLNkUsWUFBWXJGLE9BQU9DLGVBQWVPLEVBQUUsYUFBYSxDQUFDRCxPQUFNLElBQUtDLEVBQUVrRixrQkFBYSxFQUFPLE1BQU1yRSxFQUFFTixFQUFFLEdBQUdYLEVBQUVXLEVBQUUsR0FBR2hCLEVBQUVnQixFQUFFLEdBQUdQLEVBQUVrRixhQUFhLE1BQU0sYUFBYTlELE1BQU1zQyxHQUFFLEVBQUdyQixRQUFRckMsR0FBRSxHQUFJLElBQUlrQyxLQUFLZCxNQUFNc0MsRUFBRXhCLEtBQUtHLFFBQVFyQyxFQUFFa0MsS0FBS2lELFFBQVE1RixFQUFFNkYsUUFBUWxELEtBQUttRCxtQkFBbUIsR0FBR25ELEtBQUtvRCxzQkFBc0IsR0FBR3BELEtBQUtxRCxxQkFBcUIsR0FBR3JELEtBQUtNLE9BQU9OLEtBQUtoQixZQUFZZ0IsS0FBS3NELFNBQVM1RixFQUFFNkYsWUFBWXpGLEdBQUdrQyxLQUFLd0QsZ0JBQWdCeEQsS0FBS3dELGdCQUFnQnBGLEtBQUs0QixNQUFNeEQsT0FBT2lILGlCQUFpQixVQUFVekQsS0FBS3dELGlCQUFpQnhELEtBQUtNLE9BQU9uQixJQUFJLDhDQUE4Q2EsS0FBS2lELFFBQVFTLFFBQVE5RCxLQUFLLEtBQUtJLEtBQUtNLE9BQU9uQixJQUFJLGlEQUFpRCxLQUFLcUMsRUFBRTFELEdBQUcsT0FBT2xCLEVBQUVvRCxVQUFLLE9BQU8sR0FBTyxZQUFhLE9BQU9BLEtBQUsyRCxZQUFZaEYsRUFBRW9ELFlBQVlFLE1BQU1ULEVBQUUxRCxNQUFNLEdBQUcwRCxFQUFFMUQsR0FBR2tDLEtBQUttRCxtQkFBbUIzQixLQUFLeEIsS0FBS21ELG1CQUFtQjNCLEdBQUcsSUFBSSxNQUFNbkQsRUFBRWhCLEVBQUV1RyxpQkFBaUIsR0FBRyxPQUFPNUQsS0FBS21ELG1CQUFtQjNCLEdBQUduRCxHQUFHUCxFQUFFa0MsS0FBS00sT0FBT25CLElBQUksaUNBQWlDcUMsTUFBTSxLQUFLeEIsS0FBS21ELG1CQUFtQjNCLEdBQUduRSxFQUFFd0csS0FBSzdELEtBQUttRCxtQkFBbUIzQixHQUFHbkQsR0FBRzJCLEtBQUtNLE9BQU9uQixJQUFJLGtDQUFrQ3FDLElBQUksUUFBUUEsRUFBRTFELEdBQUcsT0FBT2xCLEVBQUVvRCxVQUFLLE9BQU8sR0FBTyxZQUFhLE1BQU0zQixRQUFRMkIsS0FBSzJELFlBQVloRixFQUFFb0QsWUFBWUcsUUFBUVYsRUFBRTFELEdBQUdsQixFQUFFLEtBQUtvRCxLQUFLb0Qsc0JBQXNCL0YsRUFBRXdHLEtBQUs3RCxLQUFLb0Qsc0JBQXNCL0UsRUFBRXlGLEtBQUssT0FBTyxJQUFJcEIsUUFBUSxDQUFDbEIsRUFBRTFELEtBQUssSUFBSUosRUFBRXNDLEtBQUtvRCxzQkFBc0IvRSxFQUFFeUYsSUFBSSxDQUFDaEcsRUFBRU8sS0FBSzBGLGFBQWFyRyxHQUFHZCxJQUFJNEUsRUFBRTFELElBQUlKLEVBQUVzRyxXQUFXLEtBQUtwSCxJQUFJa0IsRUFBRSxzQkFBc0JhLEVBQUVnRCxzQkFBc0IsVUFBVUgsRUFBRTFELEdBQUcsT0FBT2tDLEtBQUtxRCxxQkFBcUI3QixHQUFHLENBQUNuRCxFQUFFWCxJQUFJZCxFQUFFb0QsVUFBSyxPQUFPLEdBQU8sWUFBYSxNQUFNcEQsUUFBUWtCLEVBQUVPLEVBQUVYLEdBQUdzQyxLQUFLMkQsWUFBWWhGLEVBQUVvRCxZQUFZSSxTQUFTWCxFQUFFNUUsRUFBRWMsRUFBRW9HLE9BQU8sS0FBSzlELEtBQUtxRCxxQkFBcUJoRyxFQUFFd0csS0FBSzdELEtBQUtxRCxxQkFBcUI3QixJQUFJLGFBQWEsT0FBTzVFLEVBQUVvRCxVQUFLLE9BQU8sR0FBTyxZQUFhLE1BQU1pRSxRQUFRekMsU0FBU3hCLEtBQUtpRCxRQUFRUyxRQUFRLE9BQU9sQyxLQUFLLFVBQVVoRixPQUFPMEgsb0JBQW9CLFVBQVVsRSxLQUFLd0QsaUJBQWlCLGdCQUFnQmhDLEdBQUcsT0FBTzVFLEVBQUVvRCxVQUFLLE9BQU8sR0FBTyxZQUFhLE1BQU1sQyxFQUFFa0MsS0FBS21FLGVBQWUzQyxHQUFHLEdBQUcxRCxHQUFHMEQsRUFBRTRDLEtBQUtqRCxPQUFPeEMsRUFBRW9ELFlBQVlDLGFBQWEsT0FBT2hDLEtBQUtxRSxpQkFBaUI3QyxRQUFReEIsS0FBS3NELFNBQVNnQixTQUFTM0YsRUFBRWtELGlCQUFpQlMsZ0JBQWdCZCxFQUFFNEMsTUFBTSxTQUFTcEUsS0FBS3VFLGFBQWEvQyxHQUFHLEdBQUcxRCxFQUFFLENBQUMsT0FBTzBELEVBQUU0QyxLQUFLakQsTUFBTSxLQUFLeEMsRUFBRW9ELFlBQVlFLE1BQU1qQyxLQUFLd0UsWUFBWWhELEdBQUcsTUFBTSxLQUFLN0MsRUFBRW9ELFlBQVlHLFFBQVFsQyxLQUFLeUUsY0FBY2pELEdBQUcsTUFBTSxLQUFLN0MsRUFBRW9ELFlBQVlJLFNBQVNuQyxLQUFLMEUsZUFBZWxELEdBQUd4QixLQUFLc0QsU0FBU2dCLFNBQVMzRixFQUFFa0QsaUJBQWlCUyxnQkFBZ0JkLEVBQUU0QyxXQUFXcEUsS0FBS00sT0FBT2hCLE1BQU0sd0NBQXdDLFlBQVlrQyxHQUFHLE1BQU0xRCxFQUFFMEQsRUFBRTRDLEtBQUsvRixFQUFFMkIsS0FBS21ELG1CQUFtQnJGLEVBQUVLLEtBQUtFLEdBQUdmLE9BQU9xSCxPQUFPdEcsR0FBR3FDLFFBQVFjLEdBQUdBLEVBQUUxRCxFQUFFc0csS0FBS3RHLElBQUksY0FBYzBELEdBQUcsTUFBTTFELEVBQUUwRCxFQUFFNEMsS0FBSy9GLEVBQUUyQixLQUFLcUQscUJBQXFCdkYsRUFBRUssS0FBS0UsSUFBSUEsRUFBRVAsRUFBRXNHLEtBQUt0RyxHQUFHa0MsS0FBS00sT0FBT25CLElBQUksd0JBQXdCckIsRUFBRUssTUFBTSxlQUFlcUQsR0FBRyxNQUFNMUQsRUFBRTBELEVBQUU0QyxLQUFLL0YsRUFBRVAsRUFBRThHLFVBQVVoSSxFQUFFeUIsR0FBRzJCLEtBQUtvRCxzQkFBc0IvRSxHQUFHekIsR0FBR0EsRUFBRWtCLEVBQUVzRyxLQUFLdEcsR0FBRyxZQUFZMEQsRUFBRTFELEVBQUVPLEVBQUVYLEdBQUcsT0FBT2QsRUFBRW9ELFVBQUssT0FBTyxHQUFPLFlBQWEsTUFBTTZFLE9BQU9qSSxFQUFFa0ksT0FBT2xDLFNBQVM1QyxLQUFLaUQsUUFBUVMsUUFBUXpHLEVBQUUsQ0FBQ2tFLEtBQUtLLEVBQUV1RCxXQUFXcEcsRUFBRW1ELGtCQUFrQk0sR0FBR2pFLElBQUlMLEVBQUVzRyxLQUFLL0YsRUFBRXlGLEdBQUd6RyxFQUFFdUcsbUJBQW1CZ0IsVUFBVWxILEdBQUcsT0FBT2QsRUFBRStHLFlBQVkxRyxFQUFFMkYsR0FBRzVDLEtBQUtzRCxTQUFTZ0IsU0FBUzNGLEVBQUVrRCxpQkFBaUJRLGFBQWFwRixHQUFHQSxLQUFLLGFBQWF1RSxHQUFHLE9BQU81RSxFQUFFb0QsVUFBSyxPQUFPLEdBQU8sWUFBYSxNQUFNNkUsT0FBTy9HLFNBQVNrQyxLQUFLaUQsUUFBUVMsUUFBUSxPQUFPbEMsRUFBRXFELFNBQVMvRyxLQUFLLGVBQWUwRCxHQUFHLE1BQU0xRCxFQUFFMEQsRUFBRTRDLEtBQUssT0FBT3RHLEVBQUVxRCxNQUFNckQsRUFBRWdHLElBQUloRyxFQUFFaUgsYUFBYXBHLEVBQUVtRCxrQkFBa0JNLE1BQU0sU0FBU1osRUFBRTFELEVBQUVPLEdBQUcsYUFBYSxJQUFJekIsRUFBRW9ELE1BQU1BLEtBQUtnRixRQUFRLFNBQVN4RCxFQUFFMUQsR0FBRyxJQUFJTyxFQUFFLEdBQUcsSUFBSSxJQUFJekIsS0FBSzRFLEVBQUVsRSxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt5RSxFQUFFNUUsSUFBSWtCLEVBQUVtSCxRQUFRckksR0FBRyxJQUFJeUIsRUFBRXpCLEdBQUc0RSxFQUFFNUUsSUFBSSxHQUFHLE1BQU00RSxHQUFHLG1CQUFtQmxFLE9BQU80SCxzQkFBc0IsQ0FBQyxJQUFJdkcsRUFBRSxFQUFFLElBQUkvQixFQUFFVSxPQUFPNEgsc0JBQXNCMUQsR0FBRzdDLEVBQUUvQixFQUFFdUksT0FBT3hHLElBQUliLEVBQUVtSCxRQUFRckksRUFBRStCLElBQUksR0FBR3JCLE9BQU9rQixVQUFVNEcscUJBQXFCckksS0FBS3lFLEVBQUU1RSxFQUFFK0IsTUFBTU4sRUFBRXpCLEVBQUUrQixJQUFJNkMsRUFBRTVFLEVBQUUrQixLQUFLLE9BQU9OLEdBQUdmLE9BQU9DLGVBQWVPLEVBQUUsYUFBYSxDQUFDRCxPQUFNLElBQUtDLEVBQUV1SCxnQkFBZ0J2SCxFQUFFK0YsS0FBSy9GLEVBQUU4RixpQkFBaUI5RixFQUFFb0YsV0FBTSxFQUFPLE1BQU12RSxFQUFFTixFQUFFLEdBQUdQLEVBQUVvRixNQUFNLEtBQUssSUFBSTFCLEVBQUUsT0FBTzFELEVBQUUsT0FBTyxNQUFNTyxFQUFFLElBQUlxRSxRQUFRLENBQUNyRSxFQUFFekIsS0FBSzRFLEVBQUVuRCxFQUFFUCxFQUFFbEIsSUFBSSxNQUFNLENBQUMwSSxRQUFROUQsRUFBRStELE9BQU96SCxFQUFFNEYsUUFBUXJGLElBQUlQLEVBQUU4RixpQkFBaUIsQ0FBQ3BDLEVBQUUsS0FBSyxJQUFJZ0UsTUFBTWhFLElBQUloQixJQUFJLFFBQVEsR0FBR2lGLEtBQUtDLFdBQVdDLFNBQVMsS0FBS0MsS0FBSyxJQUFJOUgsRUFBRStGLEtBQUssQ0FBQ3JDLEVBQUUxRCxLQUFLLE1BQU1PLEVBQUVtRCxFQUFFN0MsRUFBRWIsRUFBTyxPQUFMTyxFQUFFTSxHQUFVL0IsRUFBRXlCLEVBQUUsQ0FBQyxpQkFBaUJNLEVBQUVBLEVBQUVBLEVBQUUsTUFBTWIsRUFBRXVILGdCQUFnQixDQUFDN0QsRUFBRTFELEtBQUssTUFBTU8sRUFBRSxFQUFFbUQsRUFBRTFELEtBQUssTUFBTU8sRUFBRSxHQUFHLE9BQU9tRCxFQUFFZCxRQUFRYyxJQUFJbkQsRUFBbUZtRCxJQUFHQSxFQUFFcEMsUUFBUTBFLEdBQTlGaEcsQ0FBRTBELElBQUlBLElBQUluRCxHQUFyRCxDQUF5RG1ELEVBQUVxRSxPQUFPL0gsR0FBR2dJLE9BQU90RSxHQUFHQSxFQUFFTCxPQUFPeEMsRUFBRWtELGlCQUFpQlMsa0JBQWtDMUYsRUFBRSxHQUFHYyxFQUFFLEVBQUVxSSxLQUFLdkUsRUFBRXBDLFFBQVF0QixNQUFNLE1BQU1sQixFQUFFLENBQUNrSCxHQUFHaEcsRUFBRWdHLEdBQUdrQyxVQUFVckgsRUFBRWlELHFCQUFxQlksS0FBS3lELFNBQVN6RSxFQUFFcEMsUUFBUXRCLEdBQUdKLEVBQUVXLEVBQUVQLEVBQUVnRyxJQUFJLE9BQU9wRyxJQUFJZCxFQUFFc0osWUFBWXhJLEVBQUVxSSxLQUFLbkosRUFBRXVKLFVBQVV6SSxFQUFFcUksS0FBS0ssVUFBVTVFLEVBQUU0RSxXQUFXLEtBQUt4SixHQUFHLE9BQU80RSxFQUFFc0UsT0FBT3RFLEdBQUdBLEVBQUVMLE9BQU94QyxFQUFFa0QsaUJBQWlCUSxjQUFjM0IsUUFBUWMsSUFBSSxNQUFNMUQsRUFBRUosRUFBRThELEdBQUc1RSxFQUFFeUosS0FBS3ZJLEtBQUtBLEVBQUVnSSxPQUFPdEUsR0FBR0EsRUFBRUwsT0FBT3hDLEVBQUVrRCxpQkFBaUJRLGNBQWMzQixRQUFRYyxJQUFJLE1BQU0xRCxFQUFFSixFQUFFOEQsR0FBRzFELEVBQUVrSSxVQUFVckgsRUFBRWlELHFCQUFxQlcsR0FBRzNGLEVBQUV5SixLQUFLdkksS0FBS2xCLEVBQUVrSixPQUFPdEUsR0FBR0EsRUFBRXBDLFFBQVFqQixNQUFNUSxFQUFFK0MseUJBQXlCNEUsS0FBSyxDQUFDOUUsRUFBRTFELElBQUkwRCxFQUFFeUUsU0FBU0csVUFBVXRJLEVBQUVtSSxTQUFTRyxhQUFhLFNBQVM1RSxFQUFFMUQsRUFBRU8sR0FBRyxhQUFhLElBQUl6QixFQUFFb0QsTUFBTUEsS0FBS3VHLGtCQUFrQmpKLE9BQU9ZLE9BQU8sU0FBU3NELEVBQUUxRCxFQUFFTyxFQUFFekIsUUFBRyxJQUFTQSxJQUFJQSxFQUFFeUIsR0FBR2YsT0FBT0MsZUFBZWlFLEVBQUU1RSxFQUFFLENBQUNZLFlBQVcsRUFBR0MsSUFBSSxXQUFXLE9BQU9LLEVBQUVPLE9BQU8sU0FBU21ELEVBQUUxRCxFQUFFTyxFQUFFekIsUUFBRyxJQUFTQSxJQUFJQSxFQUFFeUIsR0FBR21ELEVBQUU1RSxHQUFHa0IsRUFBRU8sS0FBS00sRUFBRXFCLE1BQU1BLEtBQUt3RyxjQUFjLFNBQVNoRixFQUFFMUQsR0FBRyxJQUFJLElBQUlPLEtBQUttRCxFQUFFLFlBQVluRCxHQUFHZixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUtlLEVBQUVPLElBQUl6QixFQUFFa0IsRUFBRTBELEVBQUVuRCxJQUFJZixPQUFPQyxlQUFlTyxFQUFFLGFBQWEsQ0FBQ0QsT0FBTSxJQUFLQyxFQUFFMkksYUFBYTNJLEVBQUVvQyxpQkFBWSxFQUFPLElBQUl4QyxFQUFFVyxFQUFFLEdBQUdmLE9BQU9DLGVBQWVPLEVBQUUsY0FBYyxDQUFDTixZQUFXLEVBQUdDLElBQUksV0FBVyxPQUFPQyxFQUFFd0MsZUFBZSxJQUFJN0MsRUFBRWdCLEVBQUUsR0FBR2YsT0FBT0MsZUFBZU8sRUFBRSxlQUFlLENBQUNOLFlBQVcsRUFBR0MsSUFBSSxXQUFXLE9BQU9KLEVBQUVvSixnQkFBZ0I5SCxFQUFFTixFQUFFLEdBQUdQLElBQUksU0FBUzBELEVBQUUxRCxFQUFFTyxHQUFHLGFBQWFmLE9BQU9DLGVBQWVPLEVBQUUsYUFBYSxDQUFDRCxPQUFNLElBQUtDLEVBQUVvQyxpQkFBWSxFQUFPLE1BQU10RCxFQUFFeUIsRUFBRSxHQUFHTSxFQUFFTixFQUFFLEdBQUdYLEVBQUVXLEVBQUUsR0FBRyxNQUFNaEIsVUFBVUssRUFBRXNGLGFBQWEsWUFBWXhCLEdBQUdrRixNQUFNbEYsR0FBR3hCLEtBQUtJLGNBQWNvQixFQUFFcEIsZUFBZSxLQUFLSixLQUFLRyxTQUFTSCxLQUFLMkcsVUFBVS9KLEVBQUU4RSx3QkFBd0IsSUFBSTFCLEtBQUtzRCxTQUFTc0QsYUFBYSxZQUFZLE9BQU9qSSxFQUFFSyxVQUFVLGVBQWVnQixLQUFLZCxPQUFPLGlCQUFpQnNDLEdBQUcsTUFBTTFELEVBQUUsQ0FBQytHLE9BQU9yRCxFQUFFcUQsT0FBT0MsT0FBT3RELEVBQUVzRCxPQUFPYixRQUFRekMsRUFBRTRDLEtBQUtBLE1BQU1wRSxLQUFLaUQsUUFBUXFDLFFBQVF4SCxHQUFHa0MsS0FBSzJELFlBQVkvRyxFQUFFbUYsWUFBWUMsYUFBYSxHQUFHaEMsS0FBS0ksZ0JBQWdCdEMsRUFBRW9DLFlBQVk3QyxHQUFHLFNBQVNtRSxFQUFFMUQsRUFBRU8sR0FBRyxhQUFhZixPQUFPQyxlQUFlTyxFQUFFLGFBQWEsQ0FBQ0QsT0FBTSxJQUFLQyxFQUFFeUYsaUJBQVksRUFBT3pGLEVBQUV5RixZQUFZL0IsSUFBSSxNQUFNMUQsRUFBRSxHQUFHLE1BQU0sQ0FBQyxTQUFTTyxFQUFFekIsR0FBRzRFLEdBQUcxRCxFQUFFdUksS0FBSyxDQUFDbEYsS0FBSzlDLEVBQUVlLFFBQVF4QyxFQUFFbUosS0FBSyxJQUFJYyxRQUFRRCxVQUFVLElBQUk5SSxLQUFLLFNBQVMwRCxFQUFFMUQsRUFBRU8sR0FBRyxhQUFhLElBQUl6QixFQUFFb0QsTUFBTUEsS0FBS3lDLFdBQVcsU0FBU2pCLEVBQUUxRCxFQUFFTyxFQUFFekIsR0FBRyxPQUFPLElBQUl5QixJQUFJQSxFQUFFcUUsV0FBVSxTQUFVL0QsRUFBRWpCLEdBQUcsU0FBU0wsRUFBRW1FLEdBQUcsSUFBSXZFLEVBQUVMLEVBQUUrRixLQUFLbkIsSUFBSSxNQUFNQSxHQUFHOUQsRUFBRThELElBQUksU0FBU29CLEVBQUVwQixHQUFHLElBQUl2RSxFQUFFTCxFQUFFaUcsTUFBTXJCLElBQUksTUFBTUEsR0FBRzlELEVBQUU4RCxJQUFJLFNBQVN2RSxFQUFFdUUsR0FBRyxJQUFJMUQsRUFBRTBELEVBQUVzQixLQUFLbkUsRUFBRTZDLEVBQUUzRCxRQUFRQyxFQUFFMEQsRUFBRTNELE1BQU1DLGFBQWFPLEVBQUVQLEVBQUUsSUFBSU8sR0FBRSxTQUFVbUQsR0FBR0EsRUFBRTFELE9BQU84QixLQUFLdkMsRUFBRXVGLEdBQUczRixHQUFHTCxFQUFFQSxFQUFFbUcsTUFBTXZCLEVBQUUxRCxHQUFHLEtBQUs2RSxZQUFZckYsT0FBT0MsZUFBZU8sRUFBRSxhQUFhLENBQUNELE9BQU0sSUFBS0MsRUFBRTJJLGtCQUFhLEVBQU8sTUFBTTlILEVBQUVOLEVBQUUsR0FBR1gsRUFBRVcsRUFBRSxHQUFHaEIsRUFBRWdCLEVBQUUsR0FBR3VFLEVBQUV2RSxFQUFFLEdBQUcsTUFBTXBCLFVBQVVJLEVBQUUyRixhQUFhLFlBQVl4QixHQUFHa0YsTUFBTWxGLEdBQUcsZUFBZUEsRUFBRTFELEdBQUcsR0FBR2tDLEtBQUs4RyxNQUFNdEYsRUFBRXhCLEtBQUsrRyxJQUFJLElBQUlDLElBQUl4RixFQUFFeUYsS0FBS3pGLEVBQUUwRixjQUFjLENBQUMsTUFBTTdJLEVBQUUsQ0FBQzhDLEtBQUt4QyxFQUFFb0QsWUFBWUMsYUFBYStDLFdBQVdwRyxFQUFFbUQsa0JBQWtCTSxHQUFHakUsSUFBSSxHQUFHaUcsS0FBS3RHLEVBQUVnRyxHQUFHbEIsRUFBRWdCLG9CQUFvQnBDLEVBQUUwRixjQUFjdkQsWUFBWXRGLEVBQUUyQixLQUFLK0csSUFBSWpDLFFBQVE5RSxLQUFLc0QsU0FBU2dCLFNBQVMzRixFQUFFa0QsaUJBQWlCUSxhQUFhaEUsSUFBSSxvQkFBb0IsT0FBT3pCLEVBQUVvRCxVQUFLLE9BQU8sR0FBTyxZQUFhLE1BQU13QixRQUFReEIsS0FBS21ILFFBQVF4SSxFQUFFK0MseUJBQXlCNUQsRUFBRWtDLEtBQUtzRCxTQUFTc0QsWUFBWSxPQUFPaEUsRUFBRXlDLGdCQUFnQnZILEVBQUUwRCxNQUFNLGlCQUFpQkEsR0FBRyxHQUFHeEIsS0FBSzhHLE9BQU90RixFQUFFcUQsU0FBUzdFLEtBQUs4RyxNQUFNSSxjQUFjLENBQUMsTUFBTXBKLEVBQUUsQ0FBQytHLE9BQU9yRCxFQUFFcUQsT0FBT0MsT0FBT3RELEVBQUVzRCxPQUFPYixRQUFRekMsRUFBRTRDLEtBQUtBLE1BQU1wRSxLQUFLaUQsUUFBUXFDLFFBQVF4SCxJQUFJLFlBQVksT0FBT0osRUFBRXNCLFVBQVUsZ0JBQWdCZ0IsS0FBS2QsUUFBUXBCLEVBQUUySSxhQUFheEosR0FBRyxTQUFTdUUsRUFBRTFELEVBQUVPLEdBQUcsYUFBYWYsT0FBT0MsZUFBZU8sRUFBRSxhQUFhLENBQUNELE9BQU0sUSwwR0NBeHBULGFBRUEsT0FJQSxNQUFNdUosVUFBZ0MsRUFBQUMsa0JBQXRDLGMsb0JBQ0ksS0FBQWxHLEtBQU8sRUFBQXRDLG9CQUFvQnlJLG1CQUMzQixLQUFBaEcsT0FBUyxDQUFDLEVBQUF4QyxlQUFleUksNEJBRXpCLDZCQUNJLE1BQU8sSUFJRixFQUFBaEgsbUJBQXFCLENBQUM2RyxJLHlhQ1huQyxhQUdBLDBCQVNJLFlBQ0luSSxFQUNBZ0IsR0FFQUQsS0FBS0YsS0FBT2IsRUFBUWEsS0FDcEJFLEtBQUtkLE1BQVFELEVBQVFDLE1BQ3JCYyxLQUFLTSxPQUFTLEVBQUF0QixVQUFVQyxHQUN4QmUsS0FBS0MsZ0JBQWtCQSxFQWlCM0IsdUJBQXVCVixHQUNuQixNQUFNaUksRUFBb0J4SCxLQUFLeUgsNkJBRXpCQyxFQUErQyxHQUVyRHBLLE9BQU9xSyxRQUFRSCxHQUFtQjlHLFFBQVEsRUFBRXZDLEVBQUt5SixNQUM3Q0YsRUFBZXZKLEdBQU8sSUFBVThDLElBQWdCLEVBQUQsZ0NBRzNDLFNBRndCakIsS0FBS2tCLFlBR3pCLE9BQU8wRyxLQUFVM0csR0FFakJqQixLQUFLTSxPQUFPaEIsTUFDUixPQUFPVSxLQUFLbUIsK0RBTTVCN0QsT0FBT3VLLE9BQU90SSxFQUFRbUksR0FHcEIsWSx5Q0FDRixNQUFNLGFBQUVJLFNBQXVCOUgsS0FBS0MsZ0JBQWdCTixhQUVwRCxPQUFPbUksRUFBYXZHLFNBQVN2QixLQUFLbUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkREX1NES1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJERF9TREtcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsImV4cG9ydCBlbnVtIEhvc3Qge1xuICAgIFBST0QgPSAnaHR0cHM6Ly9hcHAuZGF0YWRvZ2hxLmNvbS8nLFxuICAgIFNUQUdFID0gJ2h0dHBzOi8vZGQuZGF0YWQwZy5jb20vJ1xufVxuXG5leHBvcnQgZW51bSBVaUFwcENhcGFiaWxpdHlUeXBlIHtcbiAgICBBUFBfQ09OVEVYVCA9ICdhcHBfY29udGV4dCcsXG4gICAgREFTSEJPQVJEX0NPR19NRU5VID0gJ2Rhc2hib2FyZF9jb2dfbWVudSdcbn1cblxuZXhwb3J0IGVudW0gVWlBcHBFdmVudFR5cGUge1xuICAgIERBU0hCT0FSRF9DT0dfTUVOVV9DT05URVhUID0gJ2Rhc2hib2FyZF9jb2dfbWVudV9jb250ZXh0J1xufVxuXG5leHBvcnQgY29uc3QgU0RLX1ZFUlNJT04gPSAnMC4xLjAnO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IHsgQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2dlciB7XG4gICAgbG9nKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQ7XG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IGdldExvZ2dlciA9IChvcHRpb25zOiBDbGllbnRPcHRpb25zKTogTG9nZ2VyID0+IHtcbiAgICBpZiAob3B0aW9ucy5kZWJ1Zykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9nKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhgZGQtYXBwczogJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGBkZC1hcHBzOiAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvZygpIHt9LFxuICAgICAgICAgICAgZXJyb3IoKSB7fVxuICAgICAgICB9O1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBERENsaWVudCB9IGZyb20gJy4vY2xpZW50JztcbmltcG9ydCB7IEFwcENvbnRleHQsIENsaWVudE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcblxubGV0IGNsaWVudDogRERDbGllbnQ7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBjbGllbnQsIG9yIHJldHVybnMgYW4gZXhpc3Rpbmcgb25lIGlmIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFVzZXIgY2FuIHByb3ZpZGUgYW4gb3B0aW9uYWxcbiAqIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdpdGggYXBwIGNvbnRleHQgZGF0YSB3aGVuIGl0IGlzIHNlbnQgZnJvbSB0aGUgcGFyZW50LlxuICovXG5leHBvcnQgY29uc3QgaW5pdCA9IChcbiAgICBvcHRpb25zPzogQ2xpZW50T3B0aW9ucyxcbiAgICBjYWxsYmFjaz86IChjb250ZXh0OiBBcHBDb250ZXh0KSA9PiB2b2lkXG4pOiBERENsaWVudCA9PiB7XG4gICAgaWYgKCFjbGllbnQpIHtcbiAgICAgICAgY2xpZW50ID0gbmV3IEREQ2xpZW50KG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjbGllbnQuZ2V0Q29udGV4dCgpLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBjbGllbnQ7XG59O1xuIiwiaW1wb3J0IHsgQ2hpbGRDbGllbnQgfSBmcm9tICdAZGF0YWRvZy9mcmFtZXBvc3QnO1xuXG5pbXBvcnQgeyBDYXBhYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vY2FwYWJpbGl0ZXMvY2FwYWJpbGl0eU1hbmFnZXInO1xuaW1wb3J0IHsgY2FwYWJpbGl0eU1hbmFnZXJzIH0gZnJvbSAnLi9jYXBhYmlsaXRlcyc7XG5pbXBvcnQge1xuICAgIEhvc3QsXG4gICAgVWlBcHBDYXBhYmlsaXR5VHlwZSxcbiAgICBVaUFwcEV2ZW50VHlwZSxcbiAgICBTREtfVkVSU0lPTlxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IEFwcENvbnRleHQsIEZyYW1lQ29udGV4dCwgRXZlbnRIYW5kbGVyLCBDbGllbnRPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBob3N0OiBIb3N0LlNUQUdFLFxuICAgIGRlYnVnOiBmYWxzZVxufTtcblxuZXhwb3J0IGNsYXNzIEREQ2xpZW50IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhvc3Q6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlYnVnOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICAgIHByaXZhdGUgY2FwYWJpbGl0eU1hbmFnZXJzOiBDYXBhYmlsaXR5TWFuYWdlcltdO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCBERUZBVUxUX09QVElPTlMuaG9zdDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG9wdGlvbnMuZGVidWcgfHwgREVGQVVMVF9PUFRJT05TLmRlYnVnO1xuXG4gICAgICAgIHRoaXMuZnJhbWVQb3N0Q2xpZW50ID0gbmV3IENoaWxkQ2xpZW50PEFwcENvbnRleHQ+KHtcbiAgICAgICAgICAgIGRlYnVnOiB0aGlzLmRlYnVnLFxuICAgICAgICAgICAgcHJvZmlsZTogdGhpcy5kZWJ1ZyxcbiAgICAgICAgICAgIHBhcmVudENvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICBzZGtWZXJzaW9uOiBTREtfVkVSU0lPTlxuICAgICAgICAgICAgfSBhcyBGcmFtZUNvbnRleHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jYXBhYmlsaXR5TWFuYWdlcnMgPSBjYXBhYmlsaXR5TWFuYWdlcnMubWFwKFxuICAgICAgICAgICAgTWFuYWdlciA9PlxuICAgICAgICAgICAgICAgIG5ldyBNYW5hZ2VyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogdGhpcy5kZWJ1Z1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lUG9zdENsaWVudFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5mb3JFYWNoKG1hbmFnZXIgPT5cbiAgICAgICAgICAgIG1hbmFnZXIuYXBwbHlBZGRpdGlvbmFsTWV0aG9kcyh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciB0byBleGVjdXRlIG9uIGEgY2VydGFpbiBldmVudCB0eXBlIGZyb20gdGhlIHBhcmVudC4gV2lsbCBwcmludFxuICAgICAqIGFuIGVycm9yIGlmIHRoZSBpbnN0YWxsZWQgYXBwIGRvZXMgbm90IGhhdmUgdGhlIHJlcXVpcmVkIGNhcGFiaWxpdHkuIFJldHVybnMgYW4gdW5zdWJzY3JpYmVcbiAgICAgKiBtZXRob2QuIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgYmVmb3JlIGhhbmRzaGFrZSBpcyBzdWNjZXNzZnVsLCBidXQgaGFuZGxlcnMgd2lsbCBub3QgZXhlY3V0ZSB1bnRpbFxuICAgICAqIGFmdGVyIHN1Y2Nlc3NzZnVsIGhhbmRzaGFrZS5cbiAgICAgKi9cbiAgICBvbjxUID0gYW55PihcbiAgICAgICAgZXZlbnRUeXBlOiBVaUFwcEV2ZW50VHlwZSxcbiAgICAgICAgaGFuZGxlcjogRXZlbnRIYW5kbGVyPFQ+XG4gICAgKTogKCkgPT4gdm9pZCB7XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzLmdldE1hbmFnZXJCeUV2ZW50VHlwZShldmVudFR5cGUpO1xuXG4gICAgICAgIGlmICghbWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1Vua25vd24gZXZlbnQgdHlwZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3cmFwcGVkSGFuZGxlcjogRXZlbnRIYW5kbGVyPFQ+ID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IGF3YWl0IG1hbmFnZXIuaXNFbmFibGVkKCk7XG5cbiAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFRoZSAke21hbmFnZXIudHlwZX0gY2FwYWJpbGl0eSBtdXN0IGJlIGVuYWJsZWQgdG8gcmVzcG9uZCB0byBldmVudHMgb2YgdHlwZSAke2V2ZW50VHlwZX0uYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVQb3N0Q2xpZW50Lm9uKGV2ZW50VHlwZSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYXBwIGNvbnRleHQgZGF0YSwgYWZ0ZXIgaXQgaXMgc2VudCBmcm9tIHRoZSBwYXJlbnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDb250ZXh0KCk6IFByb21pc2U8QXBwQ29udGV4dD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZVBvc3RDbGllbnQuZ2V0Q29udGV4dCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFuYWdlckJ5VHlwZShcbiAgICAgICAgY2FwYWJpbGl0eVR5cGU6IFVpQXBwQ2FwYWJpbGl0eVR5cGVcbiAgICApOiBDYXBhYmlsaXR5TWFuYWdlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5maW5kKFxuICAgICAgICAgICAgbWFuYWdlciA9PiBtYW5hZ2VyLnR5cGUgPT09IGNhcGFiaWxpdHlUeXBlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRNYW5hZ2VyQnlFdmVudFR5cGUoXG4gICAgICAgIGV2ZW50VHlwZTogVWlBcHBFdmVudFR5cGVcbiAgICApOiBDYXBhYmlsaXR5TWFuYWdlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5maW5kKG1hbmFnZXIgPT5cbiAgICAgICAgICAgIG1hbmFnZXIuZXZlbnRzLmluY2x1ZGVzKGV2ZW50VHlwZSlcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmZyYW1lcG9zdD10KCk6ZS5mcmFtZXBvc3Q9dCgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oaSl7aWYodFtpXSlyZXR1cm4gdFtpXS5leHBvcnRzO3ZhciBzPXRbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwocy5leHBvcnRzLHMscy5leHBvcnRzLG4pLHMubD0hMCxzLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsaSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIHMgaW4gZSluLmQoaSxzLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscykpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9NCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SRVFVRVNUX0tFWV9HRVRfUFJPRklMRT10LlJFUVVFU1RfVElNRU9VVD10LlRyYW5zYWN0aW9uRGlyZWN0aW9uPXQuUHJvZmlsZUV2ZW50VHlwZT10Lk1lc3NhZ2VBUElWZXJzaW9uPXQuTWVzc2FnZVR5cGU9dm9pZCAwLGZ1bmN0aW9uKGUpe2UuQ0hBTk5FTF9JTklUPVwiY2hhbm5lbF9pbml0XCIsZS5FVkVOVD1cImV2ZW50XCIsZS5SRVFVRVNUPVwicmVxdWVzdFwiLGUuUkVTUE9OU0U9XCJyZXNwb25zZVwifSh0Lk1lc3NhZ2VUeXBlfHwodC5NZXNzYWdlVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UudjE9XCJmcmFtZXBvc3QvdjFcIn0odC5NZXNzYWdlQVBJVmVyc2lvbnx8KHQuTWVzc2FnZUFQSVZlcnNpb249e30pKSxmdW5jdGlvbihlKXtlLlBPU1RfTUVTU0FHRT1cInBvc3RfbWVzc2FnZVwiLGUuUkVDRUlWRV9NRVNTQUdFPVwicmVjZWl2ZV9tZXNzYWdlXCJ9KHQuUHJvZmlsZUV2ZW50VHlwZXx8KHQuUHJvZmlsZUV2ZW50VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuVVA9XCJ1cFwiLGUuRE9XTj1cImRvd25cIn0odC5UcmFuc2FjdGlvbkRpcmVjdGlvbnx8KHQuVHJhbnNhY3Rpb25EaXJlY3Rpb249e30pKSx0LlJFUVVFU1RfVElNRU9VVD0xZTQsdC5SRVFVRVNUX0tFWV9HRVRfUFJPRklMRT1cImZyYW1lcG9zdF9nZXRfcHJvZmlsZVwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRMb2dnZXI9dm9pZCAwLHQuZ2V0TG9nZ2VyPShlLHQpPT50P3tsb2c6dD0+Y29uc29sZS5sb2coYCR7ZX06ICR7dH1gKSxlcnJvcjp0PT5jb25zb2xlLmVycm9yKGAke2V9OiAke3R9YCl9Ontsb2coKXt9LGVycm9yKCl7fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHMscil7ZnVuY3Rpb24gbyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/cyhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2hhcmVkQ2xpZW50PXZvaWQgMDtjb25zdCBzPW4oMCkscj1uKDYpLG89bigzKTt0LlNoYXJlZENsaWVudD1jbGFzc3tjb25zdHJ1Y3Rvcih7ZGVidWc6ZT0hMSxwcm9maWxlOnQ9ITF9PXt9KXt0aGlzLmRlYnVnPWUsdGhpcy5wcm9maWxlPXQsdGhpcy5jaGFubmVsPW8uZGVmZXIoKSx0aGlzLmV2ZW50U3Vic2NyaXB0aW9ucz17fSx0aGlzLnJlc3BvbnNlU3Vic2NyaXB0aW9ucz17fSx0aGlzLnJlcXVlc3RTdWJzY3JpcHRpb25zPXt9LHRoaXMubG9nZ2VyPXRoaXMuZ2V0TG9nZ2VyKCksdGhpcy5wcm9maWxlcj1yLmdldFByb2ZpbGVyKHQpLHRoaXMubWVzc2FnZUxpc3RlbmVyPXRoaXMubWVzc2FnZUxpc3RlbmVyLmJpbmQodGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5tZXNzYWdlTGlzdGVuZXIpLHRoaXMubG9nZ2VyLmxvZyhcIkNsaWVudCBpbml0aWFsaXplZC4gTGlzdGVuaW5nIGZvciBtZXNzYWdlc1wiKSx0aGlzLmNoYW5uZWwucHJvbWlzZS50aGVuKCgpPT57dGhpcy5sb2dnZXIubG9nKFwiU2VjdXJlIHBhcmVudCA8LT4gY2hpbGQgY2hhbm5lbCBlc3RhYmxpc2hlZFwiKX0pfXNlbmQoZSx0KXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLnBvc3RNZXNzYWdlKHMuTWVzc2FnZVR5cGUuRVZFTlQsZSx0KX0pKX1vbihlLHQpe3RoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdfHwodGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbZV09e30pO2NvbnN0IG49by5yYW5kb21JbnNlY3VyZUlkKDgpO3JldHVybiB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1tlXVtuXT10LHRoaXMubG9nZ2VyLmxvZyhgUmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBldmVudCBcIiR7ZX1cImApLCgpPT57dGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbZV09by5vbWl0KHRoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdLG4pLHRoaXMubG9nZ2VyLmxvZyhcIlVuc3Vic2NyaWJlZCBoYW5kbGVyIGZvciBldmVudCBcIitlKX19cmVxdWVzdChlLHQpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCB0aGlzLnBvc3RNZXNzYWdlKHMuTWVzc2FnZVR5cGUuUkVRVUVTVCxlLHQpLGk9KCk9Pnt0aGlzLnJlc3BvbnNlU3Vic2NyaXB0aW9ucz1vLm9taXQodGhpcy5yZXNwb25zZVN1YnNjcmlwdGlvbnMsbi5pZCl9O3JldHVybiBuZXcgUHJvbWlzZSgoZSx0KT0+e2xldCByO3RoaXMucmVzcG9uc2VTdWJzY3JpcHRpb25zW24uaWRdPSh0LG4pPT57Y2xlYXJUaW1lb3V0KHIpLGkoKSxlKHQpfSxyPXNldFRpbWVvdXQoKCk9PntpKCksdChcIlJlcXVlc3QgdGltZWQgb3V0XCIpfSxzLlJFUVVFU1RfVElNRU9VVCl9KX0pKX1vblJlcXVlc3QoZSx0KXtyZXR1cm4gdGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9uc1tlXT0obixyKT0+aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgdChuLHIpO3RoaXMucG9zdE1lc3NhZ2Uocy5NZXNzYWdlVHlwZS5SRVNQT05TRSxlLGksci5pZCl9KSksKCk9Pnt0aGlzLnJlcXVlc3RTdWJzY3JpcHRpb25zPW8ub21pdCh0aGlzLnJlcXVlc3RTdWJzY3JpcHRpb25zLGUpfX1nZXRDb250ZXh0KCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtjb250ZXh0OmV9PXlpZWxkIHRoaXMuY2hhbm5lbC5wcm9taXNlO3JldHVybiBlfSkpfWRlc3Ryb3koKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm1lc3NhZ2VMaXN0ZW5lcil9bWVzc2FnZUxpc3RlbmVyKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD10aGlzLmlzVmFsaWRNZXNzYWdlKGUpO2lmKHQmJmUuZGF0YS50eXBlPT09cy5NZXNzYWdlVHlwZS5DSEFOTkVMX0lOSVQpcmV0dXJuIHRoaXMuZXN0YWJsaXNoQ2hhbm5lbChlKSx2b2lkIHRoaXMucHJvZmlsZXIubG9nRXZlbnQocy5Qcm9maWxlRXZlbnRUeXBlLlJFQ0VJVkVfTUVTU0FHRSxlLmRhdGEpO2lmKHlpZWxkIHRoaXMuaXNGcm9tU291cmNlKGUpKWlmKHQpe3N3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSBzLk1lc3NhZ2VUeXBlLkVWRU5UOnRoaXMuaGFuZGxlRXZlbnQoZSk7YnJlYWs7Y2FzZSBzLk1lc3NhZ2VUeXBlLlJFUVVFU1Q6dGhpcy5oYW5kbGVSZXF1ZXN0KGUpO2JyZWFrO2Nhc2Ugcy5NZXNzYWdlVHlwZS5SRVNQT05TRTp0aGlzLmhhbmRsZVJlc3BvbnNlKGUpfXRoaXMucHJvZmlsZXIubG9nRXZlbnQocy5Qcm9maWxlRXZlbnRUeXBlLlJFQ0VJVkVfTUVTU0FHRSxlLmRhdGEpfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2UgZm9ybWF0LiBTa2lwcGluZy5cIil9KSl9aGFuZGxlRXZlbnQoZSl7Y29uc3QgdD1lLmRhdGEsbj10aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1t0LmtleV07biYmT2JqZWN0LnZhbHVlcyhuKS5mb3JFYWNoKGU9PmUodC5kYXRhLHQpKX1oYW5kbGVSZXF1ZXN0KGUpe2NvbnN0IHQ9ZS5kYXRhLG49dGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9uc1t0LmtleV07biYmKG4odC5kYXRhLHQpLHRoaXMubG9nZ2VyLmxvZyhcIkhhbmRsZWQgcmVxdWVzdCB0eXBlIFwiK3Qua2V5KSl9aGFuZGxlUmVzcG9uc2UoZSl7Y29uc3QgdD1lLmRhdGEsbj10LnJlcXVlc3RJZCxpPW4mJnRoaXMucmVzcG9uc2VTdWJzY3JpcHRpb25zW25dO2kmJmkodC5kYXRhLHQpfXBvc3RNZXNzYWdlKGUsdCxuLHIpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c291cmNlOmksb3JpZ2luOmF9PXlpZWxkIHRoaXMuY2hhbm5lbC5wcm9taXNlLGM9e3R5cGU6ZSxhcGlWZXJzaW9uOnMuTWVzc2FnZUFQSVZlcnNpb24udjEsa2V5OnQsZGF0YTpuLGlkOm8ucmFuZG9tSW5zZWN1cmVJZCgpLHJlcXVlc3RJZDpyfTtyZXR1cm4gaS5wb3N0TWVzc2FnZShjLGEpLHRoaXMucHJvZmlsZXIubG9nRXZlbnQocy5Qcm9maWxlRXZlbnRUeXBlLlBPU1RfTUVTU0FHRSxjKSxjfSkpfWlzRnJvbVNvdXJjZShlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3NvdXJjZTp0fT15aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZTtyZXR1cm4gZS5zb3VyY2U9PT10fSkpfWlzVmFsaWRNZXNzYWdlKGUpe2NvbnN0IHQ9ZS5kYXRhO3JldHVybiB0LnR5cGUmJnQuaWQmJnQuYXBpVmVyc2lvbj09PXMuTWVzc2FnZUFQSVZlcnNpb24udjF9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZ0LmluZGV4T2YoaSk8MCYmKG5baV09ZVtpXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9MDtmb3IoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3M8aS5sZW5ndGg7cysrKXQuaW5kZXhPZihpW3NdKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxpW3NdKSYmKG5baVtzXV09ZVtpW3NdXSl9cmV0dXJuIG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucHJvZmlsZU1lc3NhZ2VzPXQub21pdD10LnJhbmRvbUluc2VjdXJlSWQ9dC5kZWZlcj12b2lkIDA7Y29uc3Qgcz1uKDApO3QuZGVmZXI9KCk9PntsZXQgZT0oKT0+e30sdD0oKT0+e307Y29uc3Qgbj1uZXcgUHJvbWlzZSgobixpKT0+e2U9bix0PWl9KTtyZXR1cm57cmVzb2x2ZTplLHJlamVjdDp0LHByb21pc2U6bn19LHQucmFuZG9tSW5zZWN1cmVJZD0oZT0xNik9PlsuLi5BcnJheShlKV0ubWFwKCgpPT4ofn4oMzYqTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDM2KSkuam9pbihcIlwiKSx0Lm9taXQ9KGUsdCk9Pntjb25zdCBuPWUscz10O25bc107cmV0dXJuIGkobixbXCJzeW1ib2xcIj09dHlwZW9mIHM/czpzK1wiXCJdKX07dC5wcm9maWxlTWVzc2FnZXM9KGUsdCk9Pntjb25zdCBuPSgoZSx0KT0+e2NvbnN0IG49e307cmV0dXJuIGUuZm9yRWFjaChlPT57blt0KGUpXT1lfSksbn0pKGUuY29uY2F0KHQpLmZpbHRlcihlPT5lLnR5cGU9PT1zLlByb2ZpbGVFdmVudFR5cGUuUkVDRUlWRV9NRVNTQUdFKSxlPT5lLm1lc3NhZ2UuaWQpLGk9W10scj0oe2RhdGU6ZSxtZXNzYWdlOnR9KT0+e2NvbnN0IGk9e2lkOnQuaWQsZGlyZWN0aW9uOnMuVHJhbnNhY3Rpb25EaXJlY3Rpb24uRE9XTixwb3N0VGltZTplLG1lc3NhZ2U6dH0scj1uW3QuaWRdO3JldHVybiByJiYoaS5yZWNlaXZlVGltZT1yLmRhdGUsaS5kdXJhdGlvbj0oci5kYXRlLmdldFRpbWUoKS1lLmdldFRpbWUoKSkvMWUzKSxpfTtyZXR1cm4gZS5maWx0ZXIoZT0+ZS50eXBlPT09cy5Qcm9maWxlRXZlbnRUeXBlLlBPU1RfTUVTU0FHRSkuZm9yRWFjaChlPT57Y29uc3QgdD1yKGUpO2kucHVzaCh0KX0pLHQuZmlsdGVyKGU9PmUudHlwZT09PXMuUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UpLmZvckVhY2goZT0+e2NvbnN0IHQ9cihlKTt0LmRpcmVjdGlvbj1zLlRyYW5zYWN0aW9uRGlyZWN0aW9uLlVQLGkucHVzaCh0KX0pLGkuZmlsdGVyKGU9PmUubWVzc2FnZS5rZXkhPT1zLlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFKS5zb3J0KChlLHQpPT5lLnBvc3RUaW1lLmdldFRpbWUoKS10LnBvc3RUaW1lLmdldFRpbWUoKSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHM9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyZW50Q2xpZW50PXQuQ2hpbGRDbGllbnQ9dm9pZCAwO3ZhciByPW4oNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJDaGlsZENsaWVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLkNoaWxkQ2xpZW50fX0pO3ZhciBvPW4oNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJQYXJlbnRDbGllbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5QYXJlbnRDbGllbnR9fSkscyhuKDgpLHQpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DaGlsZENsaWVudD12b2lkIDA7Y29uc3QgaT1uKDApLHM9bigxKSxyPW4oMik7Y2xhc3MgbyBleHRlbmRzIHIuU2hhcmVkQ2xpZW50e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucGFyZW50Q29udGV4dD1lLnBhcmVudENvbnRleHR8fG51bGwsdGhpcy5wcm9maWxlJiZ0aGlzLm9uUmVxdWVzdChpLlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFLCgpPT50aGlzLnByb2ZpbGVyLmdldEV2ZW50cygpKX1nZXRMb2dnZXIoKXtyZXR1cm4gcy5nZXRMb2dnZXIoXCJjaGlsZC1jbGllbnRcIix0aGlzLmRlYnVnKX1lc3RhYmxpc2hDaGFubmVsKGUpe2NvbnN0IHQ9e3NvdXJjZTplLnNvdXJjZSxvcmlnaW46ZS5vcmlnaW4sY29udGV4dDplLmRhdGEuZGF0YX07dGhpcy5jaGFubmVsLnJlc29sdmUodCksdGhpcy5wb3N0TWVzc2FnZShpLk1lc3NhZ2VUeXBlLkNIQU5ORUxfSU5JVCxcIlwiLHRoaXMucGFyZW50Q29udGV4dCl9fXQuQ2hpbGRDbGllbnQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0UHJvZmlsZXI9dm9pZCAwLHQuZ2V0UHJvZmlsZXI9ZT0+e2NvbnN0IHQ9W107cmV0dXJue2xvZ0V2ZW50KG4saSl7ZSYmdC5wdXNoKHt0eXBlOm4sbWVzc2FnZTppLGRhdGU6bmV3IERhdGV9KX0sZ2V0RXZlbnRzOigpPT50fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHMscil7ZnVuY3Rpb24gbyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/cyhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyZW50Q2xpZW50PXZvaWQgMDtjb25zdCBzPW4oMCkscj1uKDEpLG89bigyKSxhPW4oMyk7Y2xhc3MgYyBleHRlbmRzIG8uU2hhcmVkQ2xpZW50e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfXJlcXVlc3RDaGFubmVsKGUsdCl7aWYodGhpcy5mcmFtZT1lLHRoaXMudXJsPW5ldyBVUkwoZS5zcmMpLGUuY29udGVudFdpbmRvdyl7Y29uc3Qgbj17dHlwZTpzLk1lc3NhZ2VUeXBlLkNIQU5ORUxfSU5JVCxhcGlWZXJzaW9uOnMuTWVzc2FnZUFQSVZlcnNpb24udjEsa2V5OlwiXCIsZGF0YTp0LGlkOmEucmFuZG9tSW5zZWN1cmVJZCgpfTtlLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uobix0aGlzLnVybC5vcmlnaW4pLHRoaXMucHJvZmlsZXIubG9nRXZlbnQocy5Qcm9maWxlRXZlbnRUeXBlLlBPU1RfTUVTU0FHRSxuKX19Z2V0TWVzc2FnZVByb2ZpbGUoKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IGU9eWllbGQgdGhpcy5yZXF1ZXN0KHMuUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEUpLHQ9dGhpcy5wcm9maWxlci5nZXRFdmVudHMoKTtyZXR1cm4gYS5wcm9maWxlTWVzc2FnZXModCxlKX0pKX1lc3RhYmxpc2hDaGFubmVsKGUpe2lmKHRoaXMuZnJhbWUmJmUuc291cmNlPT09dGhpcy5mcmFtZS5jb250ZW50V2luZG93KXtjb25zdCB0PXtzb3VyY2U6ZS5zb3VyY2Usb3JpZ2luOmUub3JpZ2luLGNvbnRleHQ6ZS5kYXRhLmRhdGF9O3RoaXMuY2hhbm5lbC5yZXNvbHZlKHQpfX1nZXRMb2dnZXIoKXtyZXR1cm4gci5nZXRMb2dnZXIoXCJwYXJlbnQtY2xpZW50XCIsdGhpcy5kZWJ1Zyl9fXQuUGFyZW50Q2xpZW50PWN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX1dKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyYW1lcG9zdC5taW4uanMubWFwIiwiaW1wb3J0IHsgVWlBcHBDYXBhYmlsaXR5VHlwZSwgVWlBcHBFdmVudFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBDYXBhYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vY2FwYWJpbGl0eU1hbmFnZXInO1xuXG5leHBvcnQgdHlwZSB7IENhcGFiaWxpdHlNYW5hZ2VyIH0gZnJvbSAnLi9jYXBhYmlsaXR5TWFuYWdlcic7XG5cbmNsYXNzIERhc2hib2FyZENvZ01lbnVNYW5hZ2VyIGV4dGVuZHMgQ2FwYWJpbGl0eU1hbmFnZXIge1xuICAgIHR5cGUgPSBVaUFwcENhcGFiaWxpdHlUeXBlLkRBU0hCT0FSRF9DT0dfTUVOVTtcbiAgICBldmVudHMgPSBbVWlBcHBFdmVudFR5cGUuREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFRdO1xuXG4gICAgZ2V0QWRkaXRpb25hbENsaWVudE1ldGhvZHMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjYXBhYmlsaXR5TWFuYWdlcnMgPSBbRGFzaGJvYXJkQ29nTWVudU1hbmFnZXJdO1xuIiwiaW1wb3J0IHR5cGUgeyBDaGlsZENsaWVudCB9IGZyb20gJ0BkYXRhZG9nL2ZyYW1lcG9zdCc7XG5cbmltcG9ydCB0eXBlIHsgRERDbGllbnQgfSBmcm9tICcuLi9jbGllbnQnO1xuaW1wb3J0IHsgVWlBcHBDYXBhYmlsaXR5VHlwZSwgVWlBcHBFdmVudFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyLCBMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQXBwQ29udGV4dCwgQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhcGFiaWxpdHlNYW5hZ2VyIHtcbiAgICBhYnN0cmFjdCB0eXBlOiBVaUFwcENhcGFiaWxpdHlUeXBlO1xuICAgIGFic3RyYWN0IGV2ZW50czogVWlBcHBFdmVudFR5cGVbXTtcblxuICAgIHByb3RlY3RlZCByZWFkb25seSBob3N0OiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRlYnVnOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDxBcHBDb250ZXh0PjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvcHRpb25zOiBSZXF1aXJlZDxDbGllbnRPcHRpb25zPixcbiAgICAgICAgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDxBcHBDb250ZXh0PlxuICAgICkge1xuICAgICAgICB0aGlzLmhvc3QgPSBvcHRpb25zLmhvc3Q7XG4gICAgICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5mcmFtZVBvc3RDbGllbnQgPSBmcmFtZVBvc3RDbGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwbGFjZSBmb3IgZXZlbnR1YWwgZXh0ZW5zaW9ucyBvZiB0aGUgYmFzZSBjbGllbnQgbWV0aG9kcywgc3BlY2lmaWMgdG8gYSBjYXBhYmlsaXR5XG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBwcml2YXRlIGdldEFkZGl0aW9uYWxDbGllbnRNZXRob2RzKCk6IHsgW25hbWU6IHN0cmluZ106IEZ1bmN0aW9uIH0ge1xuICAgICAqICAgcmV0dXJuICB7XG4gICAgICogICAgIGdldFRpbWVTZXJpZXM6ICgpID0+IHRoaXMuZ2V0VGltZVNlcmllcygpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBnZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcygpOiB7IFtuYW1lOiBzdHJpbmddOiBGdW5jdGlvbiB9O1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYWRkaXRpb25hbCBtZXRob2RzIGluIGEgY2hlY2sgYWdhaW5zdCB0aGUgY2FwYWJpbGl0eSB0eXBlLCB0aGVuIGFwcGxpZXMgdG8gcHJvdmlkZWQgY2xpZW50IG9iamVjdC4gRG8gbm90IG92ZXJyaWRlXG4gICAgICovXG4gICAgYXBwbHlBZGRpdGlvbmFsTWV0aG9kcyhjbGllbnQ6IEREQ2xpZW50KSB7XG4gICAgICAgIGNvbnN0IGFkZGl0aW9uYWxNZXRob2RzID0gdGhpcy5nZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcygpO1xuXG4gICAgICAgIGNvbnN0IHdyYXBwZWRNZXRob2RzOiB7IFtuYW1lOiBzdHJpbmddOiBGdW5jdGlvbiB9ID0ge307XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYWRkaXRpb25hbE1ldGhvZHMpLmZvckVhY2goKFtrZXksIG1ldGhvZF0pID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRNZXRob2RzW2tleV0gPSBhc3luYyAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSBhd2FpdCB0aGlzLmlzRW5hYmxlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFRoZSAke3RoaXMudHlwZX0gY2FwYWJpbGl0eSBtdXN0IGJlIGVuYWJsZWQgdG8gcGVyZm9ybSB0aGlzIGFjdGlvbmBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKGNsaWVudCwgd3JhcHBlZE1ldGhvZHMpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgeyBjYXBhYmlsaXRpZXMgfSA9IGF3YWl0IHRoaXMuZnJhbWVQb3N0Q2xpZW50LmdldENvbnRleHQoKTtcblxuICAgICAgICByZXR1cm4gY2FwYWJpbGl0aWVzLmluY2x1ZGVzKHRoaXMudHlwZSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==