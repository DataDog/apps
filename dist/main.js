!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DD_SDK=t():e.DD_SDK=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION=t.UiAppEventType=t.UiAppCapabilityType=t.Host=void 0,function(e){e.PROD="https://app.datadoghq.com/",e.STAGE="https://dd.datad0g.com/"}(t.Host||(t.Host={})),function(e){e.APP_CONTEXT="app_context",e.DASHBOARD_COG_MENU="dashboard_cog_menu"}(t.UiAppCapabilityType||(t.UiAppCapabilityType={})),function(e){e.DASHBOARD_COG_MENU_CONTEXT="dashboard_cog_menu_context"}(t.UiAppEventType||(t.UiAppEventType={})),t.SDK_VERSION="0.1.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=e=>e.debug?{log:e=>console.log("dd-apps: "+e),error:e=>console.error("dd-apps: "+e)}:{log(){},error(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=n(3);let r;t.init=(e,t)=>(r||(r=new i.DDClient(e)),t&&r.getContext().then(t),r)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DDClient=void 0;const r=n(4),o=n(5),s=n(0),a=n(1),c={host:s.Host.STAGE,profile:!1,debug:!1};t.DDClient=class{constructor(e={}){this.host=e.host||c.host,this.debug=e.debug||c.debug,this.profile=e.profile||c.profile,this.framePostClient=new r.ChildClient({debug:this.debug,profile:this.profile,parentContext:{sdkVersion:s.SDK_VERSION}}),this.logger=a.getLogger(e),this.capabilityManagers=o.capabilityManagers.map(e=>new e({host:this.host,debug:this.debug,profile:this.profile},this.framePostClient)),this.capabilityManagers.forEach(e=>e.applyAdditionalMethods(this))}on(e,t){const n=this.getManagerByEventType(e);if(!n)return this.logger.error("Unknown event type"),()=>{};return this.framePostClient.on(e,(...r)=>i(this,void 0,void 0,(function*(){(yield n.isEnabled())?t(...r):this.logger.error(`The ${n.type} capability must be enabled to respond to events of type ${e}.`)})))}getContext(){return i(this,void 0,void 0,(function*(){return this.framePostClient.getContext()}))}getManagerByType(e){return this.capabilityManagers.find(t=>t.type===e)}getManagerByEventType(e){return this.capabilityManagers.find(t=>t.events.includes(e))}}},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_KEY_GET_PROFILE=t.REQUEST_TIMEOUT=t.TransactionDirection=t.ProfileEventType=t.MessageAPIVersion=t.MessageType=void 0,function(e){e.CHANNEL_INIT="channel_init",e.EVENT="event",e.REQUEST="request",e.RESPONSE="response"}(t.MessageType||(t.MessageType={})),function(e){e.v1="framepost/v1"}(t.MessageAPIVersion||(t.MessageAPIVersion={})),function(e){e.POST_MESSAGE="post_message",e.RECEIVE_MESSAGE="receive_message"}(t.ProfileEventType||(t.ProfileEventType={})),function(e){e.UP="up",e.DOWN="down"}(t.TransactionDirection||(t.TransactionDirection={})),t.REQUEST_TIMEOUT=1e4,t.REQUEST_KEY_GET_PROFILE="framepost_get_profile"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=(e,t)=>t?{log:t=>console.log(`${e}: ${t}`),error:t=>console.error(`${e}: ${t}`)}:{log(){},error(){}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SharedClient=void 0;const r=n(0),o=n(6),s=n(3);t.SharedClient=class{constructor({debug:e=!1,profile:t=!1}={}){this.debug=e,this.profile=t,this.channel=s.defer(),this.eventSubscriptions={},this.responseSubscriptions={},this.requestSubscriptions={},this.logger=this.getLogger(),this.profiler=o.getProfiler(t),this.messageListener=this.messageListener.bind(this),window.addEventListener("message",this.messageListener),this.logger.log("Client initialized. Listening for messages"),this.channel.promise.then(()=>{this.logger.log("Secure parent <-> child channel established")})}send(e,t){return i(this,void 0,void 0,(function*(){return this.postMessage(r.MessageType.EVENT,e,t)}))}on(e,t){this.eventSubscriptions[e]||(this.eventSubscriptions[e]={});const n=s.randomInsecureId(8);return this.eventSubscriptions[e][n]=t,this.logger.log(`Registered handler for event "${e}"`),()=>{this.eventSubscriptions[e]=s.omit(this.eventSubscriptions[e],n),this.logger.log("Unsubscribed handler for event "+e)}}request(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.postMessage(r.MessageType.REQUEST,e,t),i=()=>{this.responseSubscriptions=s.omit(this.responseSubscriptions,n.id)};return new Promise((e,t)=>{let o;this.responseSubscriptions[n.id]=(t,n)=>{clearTimeout(o),i(),e(t)},o=setTimeout(()=>{i(),t("Request timed out")},r.REQUEST_TIMEOUT)})}))}onRequest(e,t){return this.requestSubscriptions[e]=(n,o)=>i(this,void 0,void 0,(function*(){const i=yield t(n,o);this.postMessage(r.MessageType.RESPONSE,e,i,o.id)})),()=>{this.requestSubscriptions=s.omit(this.requestSubscriptions,e)}}getContext(){return i(this,void 0,void 0,(function*(){const{context:e}=yield this.channel.promise;return e}))}destroy(){window.removeEventListener("message",this.messageListener)}messageListener(e){return i(this,void 0,void 0,(function*(){const t=this.isValidMessage(e);if(t&&e.data.type===r.MessageType.CHANNEL_INIT)return this.establishChannel(e),void this.profiler.logEvent(r.ProfileEventType.RECEIVE_MESSAGE,e.data);if(yield this.isFromSource(e))if(t){switch(e.data.type){case r.MessageType.EVENT:this.handleEvent(e);break;case r.MessageType.REQUEST:this.handleRequest(e);break;case r.MessageType.RESPONSE:this.handleResponse(e)}this.profiler.logEvent(r.ProfileEventType.RECEIVE_MESSAGE,e.data)}else this.logger.error("Invalid message format. Skipping.")}))}handleEvent(e){const t=e.data,n=this.eventSubscriptions[t.key];n&&Object.values(n).forEach(e=>e(t.data,t))}handleRequest(e){const t=e.data,n=this.requestSubscriptions[t.key];n&&(n(t.data,t),this.logger.log("Handled request type "+t.key))}handleResponse(e){const t=e.data,n=t.requestId,i=n&&this.responseSubscriptions[n];i&&i(t.data,t)}postMessage(e,t,n,o){return i(this,void 0,void 0,(function*(){const{source:i,origin:a}=yield this.channel.promise,c={type:e,apiVersion:r.MessageAPIVersion.v1,key:t,data:n,id:s.randomInsecureId(),requestId:o};return i.postMessage(c,a),this.profiler.logEvent(r.ProfileEventType.POST_MESSAGE,c),c}))}isFromSource(e){return i(this,void 0,void 0,(function*(){const{source:t}=yield this.channel.promise;return e.source===t}))}isValidMessage(e){const t=e.data;return t.type&&t.id&&t.apiVersion===r.MessageAPIVersion.v1}}},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.profileMessages=t.omit=t.randomInsecureId=t.defer=void 0;const r=n(0);t.defer=()=>{let e=()=>{},t=()=>{};const n=new Promise((n,i)=>{e=n,t=i});return{resolve:e,reject:t,promise:n}},t.randomInsecureId=(e=16)=>[...Array(e)].map(()=>(~~(36*Math.random())).toString(36)).join(""),t.omit=(e,t)=>{const n=e,r=t;return n[r],i(n,["symbol"==typeof r?r:r+""])},t.profileMessages=(e,t)=>{const n=((e,t)=>{const n={};return e.forEach(e=>{n[(e=>e.message.id)(e)]=e}),n})(e.concat(t).filter(e=>e.type===r.ProfileEventType.RECEIVE_MESSAGE)),i=[],o=({date:e,message:t})=>{const i={id:t.id,direction:r.TransactionDirection.DOWN,postTime:e,message:t},o=n[t.id];return o&&(i.receiveTime=o.date,i.duration=(o.date.getTime()-e.getTime())/1e3),i};return e.filter(e=>e.type===r.ProfileEventType.POST_MESSAGE).forEach(e=>{const t=o(e);i.push(t)}),t.filter(e=>e.type===r.ProfileEventType.POST_MESSAGE).forEach(e=>{const t=o(e);t.direction=r.TransactionDirection.UP,i.push(t)}),i.filter(e=>e.message.key!==r.REQUEST_KEY_GET_PROFILE).sort((e,t)=>e.postTime.getTime()-t.postTime.getTime())}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=t.ChildClient=void 0;var o=n(5);Object.defineProperty(t,"ChildClient",{enumerable:!0,get:function(){return o.ChildClient}});var s=n(7);Object.defineProperty(t,"ParentClient",{enumerable:!0,get:function(){return s.ParentClient}}),r(n(8),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildClient=void 0;const i=n(0),r=n(1),o=n(2);class s extends o.SharedClient{constructor(e){super(e),this.parentContext=e.parentContext||null,this.profile&&this.onRequest(i.REQUEST_KEY_GET_PROFILE,()=>this.profiler.getEvents())}getLogger(){return r.getLogger("child-client",this.debug)}establishChannel(e){const t={source:e.source,origin:e.origin,context:e.data.data};this.channel.resolve(t),this.postMessage(i.MessageType.CHANNEL_INIT,"",this.parentContext)}}t.ChildClient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfiler=void 0,t.getProfiler=e=>{const t=[];return{logEvent(n,i){e&&t.push({type:n,message:i,date:new Date})},getEvents:()=>t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=void 0;const r=n(0),o=n(1),s=n(2),a=n(3);class c extends s.SharedClient{constructor(e){super(e)}requestChannel(e,t){if(this.frame=e,this.url=new URL(e.src),e.contentWindow){const n={type:r.MessageType.CHANNEL_INIT,apiVersion:r.MessageAPIVersion.v1,key:"",data:t,id:a.randomInsecureId()};e.contentWindow.postMessage(n,this.url.origin),this.profiler.logEvent(r.ProfileEventType.POST_MESSAGE,n)}}getMessageProfile(){return i(this,void 0,void 0,(function*(){const e=yield this.request(r.REQUEST_KEY_GET_PROFILE),t=this.profiler.getEvents();return a.profileMessages(t,e)}))}establishChannel(e){if(this.frame&&e.source===this.frame.contentWindow){const t={source:e.source,origin:e.origin,context:e.data.data};this.channel.resolve(t)}}getLogger(){return o.getLogger("parent-client",this.debug)}}t.ParentClient=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capabilityManagers=void 0;const i=n(0),r=n(6);class o extends r.CapabilityManager{constructor(){super(...arguments),this.type=i.UiAppCapabilityType.DASHBOARD_COG_MENU,this.events=[i.UiAppEventType.DASHBOARD_COG_MENU_CONTEXT]}getAdditionalClientMethods(){return{}}}t.capabilityManagers=[o]},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CapabilityManager=void 0;const r=n(1);t.CapabilityManager=class{constructor(e,t){this.host=e.host,this.debug=e.debug,this.logger=r.getLogger(e),this.framePostClient=t}applyAdditionalMethods(e){const t=this.getAdditionalClientMethods(),n={};Object.entries(t).forEach(([e,t])=>{n[e]=(...e)=>i(this,void 0,void 0,(function*(){if(yield this.isEnabled())return t(...e);this.logger.error(`The ${this.type} capability must be enabled to perform this action`)}))}),Object.assign(e,n)}isEnabled(){return i(this,void 0,void 0,(function*(){const{capabilities:e}=yield this.framePostClient.getContext();return e.includes(this.type)}))}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ERF9TREsvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0REX1NESy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ERF9TREsvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2ZyYW1lcG9zdC9kaXN0L2ZyYW1lcG9zdC5taW4uanMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vc3JjL2NhcGFiaWxpdGVzL2luZGV4LnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9jYXBhYmlsaXRlcy9jYXBhYmlsaXR5TWFuYWdlci50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSG9zdCIsIlVpQXBwQ2FwYWJpbGl0eVR5cGUiLCJVaUFwcEV2ZW50VHlwZSIsIlNES19WRVJTSU9OIiwiZ2V0TG9nZ2VyIiwib3B0aW9ucyIsImRlYnVnIiwibG9nIiwibWVzc2FnZSIsImNvbnNvbGUiLCJlcnJvciIsImNsaWVudCIsImluaXQiLCJjYWxsYmFjayIsIkREQ2xpZW50IiwiZ2V0Q29udGV4dCIsInRoZW4iLCJERUZBVUxUX09QVElPTlMiLCJob3N0IiwiU1RBR0UiLCJwcm9maWxlIiwidGhpcyIsImZyYW1lUG9zdENsaWVudCIsIkNoaWxkQ2xpZW50IiwicGFyZW50Q29udGV4dCIsInNka1ZlcnNpb24iLCJsb2dnZXIiLCJjYXBhYmlsaXR5TWFuYWdlcnMiLCJtYXAiLCJNYW5hZ2VyIiwiZm9yRWFjaCIsIm1hbmFnZXIiLCJhcHBseUFkZGl0aW9uYWxNZXRob2RzIiwiZXZlbnRUeXBlIiwiaGFuZGxlciIsImdldE1hbmFnZXJCeUV2ZW50VHlwZSIsIm9uIiwiYXJncyIsImlzRW5hYmxlZCIsInR5cGUiLCJjYXBhYmlsaXR5VHlwZSIsImZpbmQiLCJldmVudHMiLCJpbmNsdWRlcyIsImUiLCJkZWZhdWx0IiwiUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEUiLCJSRVFVRVNUX1RJTUVPVVQiLCJUcmFuc2FjdGlvbkRpcmVjdGlvbiIsIlByb2ZpbGVFdmVudFR5cGUiLCJNZXNzYWdlQVBJVmVyc2lvbiIsIk1lc3NhZ2VUeXBlIiwiQ0hBTk5FTF9JTklUIiwiRVZFTlQiLCJSRVFVRVNUIiwiUkVTUE9OU0UiLCJ2MSIsIlBPU1RfTUVTU0FHRSIsIlJFQ0VJVkVfTUVTU0FHRSIsIlVQIiwiRE9XTiIsIl9fYXdhaXRlciIsIlByb21pc2UiLCJuZXh0IiwiYSIsInRocm93IiwiZG9uZSIsImFwcGx5IiwiU2hhcmVkQ2xpZW50IiwiY2hhbm5lbCIsImRlZmVyIiwiZXZlbnRTdWJzY3JpcHRpb25zIiwicmVzcG9uc2VTdWJzY3JpcHRpb25zIiwicmVxdWVzdFN1YnNjcmlwdGlvbnMiLCJwcm9maWxlciIsImdldFByb2ZpbGVyIiwibWVzc2FnZUxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb21pc2UiLCJwb3N0TWVzc2FnZSIsInJhbmRvbUluc2VjdXJlSWQiLCJvbWl0IiwiaWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY29udGV4dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc1ZhbGlkTWVzc2FnZSIsImRhdGEiLCJlc3RhYmxpc2hDaGFubmVsIiwibG9nRXZlbnQiLCJpc0Zyb21Tb3VyY2UiLCJoYW5kbGVFdmVudCIsImhhbmRsZVJlcXVlc3QiLCJoYW5kbGVSZXNwb25zZSIsInZhbHVlcyIsInJlcXVlc3RJZCIsInNvdXJjZSIsIm9yaWdpbiIsImFwaVZlcnNpb24iLCJfX3Jlc3QiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGVuZ3RoIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwcm9maWxlTWVzc2FnZXMiLCJyZXNvbHZlIiwicmVqZWN0IiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJqb2luIiwiY29uY2F0IiwiZmlsdGVyIiwiZGF0ZSIsImRpcmVjdGlvbiIsInBvc3RUaW1lIiwicmVjZWl2ZVRpbWUiLCJkdXJhdGlvbiIsImdldFRpbWUiLCJwdXNoIiwic29ydCIsIl9fY3JlYXRlQmluZGluZyIsIl9fZXhwb3J0U3RhciIsIlBhcmVudENsaWVudCIsInN1cGVyIiwib25SZXF1ZXN0IiwiZ2V0RXZlbnRzIiwiRGF0ZSIsImZyYW1lIiwidXJsIiwiVVJMIiwic3JjIiwiY29udGVudFdpbmRvdyIsInJlcXVlc3QiLCJEYXNoYm9hcmRDb2dNZW51TWFuYWdlciIsIkNhcGFiaWxpdHlNYW5hZ2VyIiwiREFTSEJPQVJEX0NPR19NRU5VIiwiREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFQiLCJhZGRpdGlvbmFsTWV0aG9kcyIsImdldEFkZGl0aW9uYWxDbGllbnRNZXRob2RzIiwid3JhcHBlZE1ldGhvZHMiLCJlbnRyaWVzIiwibWV0aG9kIiwiYXNzaWduIiwiY2FwYWJpbGl0aWVzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0Es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LEtBQU9iLEVBQVFhLEtBQ3BCRyxLQUFLZixNQUFRRCxFQUFRQyxNQUNyQmUsS0FBS0ssT0FBUyxFQUFBdEIsVUFBVUMsR0FDeEJnQixLQUFLQyxnQkFBa0JBLEVBaUIzQix1QkFBdUJYLEdBQ25CLE1BQU1pSSxFQUFvQnZILEtBQUt3SCw2QkFFekJDLEVBQStDLEdBRXJEcEssT0FBT3FLLFFBQVFILEdBQW1COUcsUUFBUSxFQUFFdkMsRUFBS3lKLE1BQzdDRixFQUFldkosR0FBTyxJQUFVOEMsSUFBZ0IsRUFBRCxnQ0FHM0MsU0FGd0JoQixLQUFLaUIsWUFHekIsT0FBTzBHLEtBQVUzRyxHQUVqQmhCLEtBQUtLLE9BQU9oQixNQUNSLE9BQU9XLEtBQUtrQiwrREFNNUI3RCxPQUFPdUssT0FBT3RJLEVBQVFtSSxHQUdwQixZLHlDQUNGLE1BQU0sYUFBRUksU0FBdUI3SCxLQUFLQyxnQkFBZ0JQLGFBRXBELE9BQU9tSSxFQUFhdkcsU0FBU3RCLEtBQUtrQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRERfU0RLXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkREX1NES1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiZXhwb3J0IGVudW0gSG9zdCB7XG4gICAgUFJPRCA9ICdodHRwczovL2FwcC5kYXRhZG9naHEuY29tLycsXG4gICAgU1RBR0UgPSAnaHR0cHM6Ly9kZC5kYXRhZDBnLmNvbS8nXG59XG5cbmV4cG9ydCBlbnVtIFVpQXBwQ2FwYWJpbGl0eVR5cGUge1xuICAgIEFQUF9DT05URVhUID0gJ2FwcF9jb250ZXh0JyxcbiAgICBEQVNIQk9BUkRfQ09HX01FTlUgPSAnZGFzaGJvYXJkX2NvZ19tZW51J1xufVxuXG5leHBvcnQgZW51bSBVaUFwcEV2ZW50VHlwZSB7XG4gICAgREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFQgPSAnZGFzaGJvYXJkX2NvZ19tZW51X2NvbnRleHQnXG59XG5cbmV4cG9ydCBjb25zdCBTREtfVkVSU0lPTiA9ICcwLjEuMCc7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDbGllbnRPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgICBsb2cobWVzc2FnZTogc3RyaW5nKTogdm9pZDtcbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKG9wdGlvbnM6IENsaWVudE9wdGlvbnMpOiBMb2dnZXIgPT4ge1xuICAgIGlmIChvcHRpb25zLmRlYnVnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2cobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGBkZC1hcHBzOiAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYGRkLWFwcHM6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9nKCkge30sXG4gICAgICAgICAgICBlcnJvcigpIHt9XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsImltcG9ydCB7IEREQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgQXBwQ29udGV4dCwgQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgY2xpZW50OiBERENsaWVudDtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIGNsaWVudCwgb3IgcmV0dXJucyBhbiBleGlzdGluZyBvbmUgaWYgYWxyZWFkeSBpbml0aWFsaXplZC4gVXNlciBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2l0aCBhcHAgY29udGV4dCBkYXRhIHdoZW4gaXQgaXMgc2VudCBmcm9tIHRoZSBwYXJlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0ID0gKFxuICAgIG9wdGlvbnM/OiBDbGllbnRPcHRpb25zLFxuICAgIGNhbGxiYWNrPzogKGNvbnRleHQ6IEFwcENvbnRleHQpID0+IHZvaWRcbik6IEREQ2xpZW50ID0+IHtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICBjbGllbnQgPSBuZXcgRERDbGllbnQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNsaWVudC5nZXRDb250ZXh0KCkudGhlbihjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG4iLCJpbXBvcnQgeyBDaGlsZENsaWVudCB9IGZyb20gJ0BkYXRhZG9nL2ZyYW1lcG9zdCc7XG5cbmltcG9ydCB7IENhcGFiaWxpdHlNYW5hZ2VyIH0gZnJvbSAnLi9jYXBhYmlsaXRlcy9jYXBhYmlsaXR5TWFuYWdlcic7XG5pbXBvcnQgeyBjYXBhYmlsaXR5TWFuYWdlcnMgfSBmcm9tICcuL2NhcGFiaWxpdGVzJztcbmltcG9ydCB7XG4gICAgSG9zdCxcbiAgICBVaUFwcENhcGFiaWxpdHlUeXBlLFxuICAgIFVpQXBwRXZlbnRUeXBlLFxuICAgIFNES19WRVJTSU9OXG59IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciwgTG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgQXBwQ29udGV4dCwgRnJhbWVDb250ZXh0LCBFdmVudEhhbmRsZXIsIENsaWVudE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGhvc3Q6IEhvc3QuU1RBR0UsXG4gICAgcHJvZmlsZTogZmFsc2UsXG4gICAgZGVidWc6IGZhbHNlXG59O1xuXG5leHBvcnQgY2xhc3MgRERDbGllbnQge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaG9zdDogc3RyaW5nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZGVidWc6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9maWxlOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICAgIHByaXZhdGUgY2FwYWJpbGl0eU1hbmFnZXJzOiBDYXBhYmlsaXR5TWFuYWdlcltdO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCBERUZBVUxUX09QVElPTlMuaG9zdDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG9wdGlvbnMuZGVidWcgfHwgREVGQVVMVF9PUFRJT05TLmRlYnVnO1xuICAgICAgICB0aGlzLnByb2ZpbGUgPSBvcHRpb25zLnByb2ZpbGUgfHwgREVGQVVMVF9PUFRJT05TLnByb2ZpbGU7XG5cbiAgICAgICAgdGhpcy5mcmFtZVBvc3RDbGllbnQgPSBuZXcgQ2hpbGRDbGllbnQ8QXBwQ29udGV4dD4oe1xuICAgICAgICAgICAgZGVidWc6IHRoaXMuZGVidWcsXG4gICAgICAgICAgICBwcm9maWxlOiB0aGlzLnByb2ZpbGUsXG4gICAgICAgICAgICBwYXJlbnRDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgc2RrVmVyc2lvbjogU0RLX1ZFUlNJT05cbiAgICAgICAgICAgIH0gYXMgRnJhbWVDb250ZXh0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2FwYWJpbGl0eU1hbmFnZXJzID0gY2FwYWJpbGl0eU1hbmFnZXJzLm1hcChcbiAgICAgICAgICAgIE1hbmFnZXIgPT5cbiAgICAgICAgICAgICAgICBuZXcgTWFuYWdlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogdGhpcy5ob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWc6IHRoaXMuZGVidWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlOiB0aGlzLnByb2ZpbGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZVBvc3RDbGllbnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jYXBhYmlsaXR5TWFuYWdlcnMuZm9yRWFjaChtYW5hZ2VyID0+XG4gICAgICAgICAgICBtYW5hZ2VyLmFwcGx5QWRkaXRpb25hbE1ldGhvZHModGhpcylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgdG8gZXhlY3V0ZSBvbiBhIGNlcnRhaW4gZXZlbnQgdHlwZSBmcm9tIHRoZSBwYXJlbnQuIFdpbGwgcHJpbnRcbiAgICAgKiBhbiBlcnJvciBpZiB0aGUgaW5zdGFsbGVkIGFwcCBkb2VzIG5vdCBoYXZlIHRoZSByZXF1aXJlZCBjYXBhYmlsaXR5LiBSZXR1cm5zIGFuIHVuc3Vic2NyaWJlXG4gICAgICogbWV0aG9kLiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGJlZm9yZSBoYW5kc2hha2UgaXMgc3VjY2Vzc2Z1bCwgYnV0IGhhbmRsZXJzIHdpbGwgbm90IGV4ZWN1dGUgdW50aWxcbiAgICAgKiBhZnRlciBzdWNjZXNzc2Z1bCBoYW5kc2hha2UuXG4gICAgICovXG4gICAgb248VCA9IGFueT4oXG4gICAgICAgIGV2ZW50VHlwZTogVWlBcHBFdmVudFR5cGUsXG4gICAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUPlxuICAgICk6ICgpID0+IHZvaWQge1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gdGhpcy5nZXRNYW5hZ2VyQnlFdmVudFR5cGUoZXZlbnRUeXBlKTtcblxuICAgICAgICBpZiAoIW1hbmFnZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdVbmtub3duIGV2ZW50IHR5cGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd3JhcHBlZEhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUPiA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSBhd2FpdCBtYW5hZ2VyLmlzRW5hYmxlZCgpO1xuXG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciguLi5hcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgJHttYW5hZ2VyLnR5cGV9IGNhcGFiaWxpdHkgbXVzdCBiZSBlbmFibGVkIHRvIHJlc3BvbmQgdG8gZXZlbnRzIG9mIHR5cGUgJHtldmVudFR5cGV9LmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lUG9zdENsaWVudC5vbihldmVudFR5cGUsIHdyYXBwZWRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFwcCBjb250ZXh0IGRhdGEsIGFmdGVyIGl0IGlzIHNlbnQgZnJvbSB0aGUgcGFyZW50XG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q29udGV4dCgpOiBQcm9taXNlPEFwcENvbnRleHQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVQb3N0Q2xpZW50LmdldENvbnRleHQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE1hbmFnZXJCeVR5cGUoXG4gICAgICAgIGNhcGFiaWxpdHlUeXBlOiBVaUFwcENhcGFiaWxpdHlUeXBlXG4gICAgKTogQ2FwYWJpbGl0eU1hbmFnZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXBhYmlsaXR5TWFuYWdlcnMuZmluZChcbiAgICAgICAgICAgIG1hbmFnZXIgPT4gbWFuYWdlci50eXBlID09PSBjYXBhYmlsaXR5VHlwZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFuYWdlckJ5RXZlbnRUeXBlKFxuICAgICAgICBldmVudFR5cGU6IFVpQXBwRXZlbnRUeXBlXG4gICAgKTogQ2FwYWJpbGl0eU1hbmFnZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXBhYmlsaXR5TWFuYWdlcnMuZmluZChtYW5hZ2VyID0+XG4gICAgICAgICAgICBtYW5hZ2VyLmV2ZW50cy5pbmNsdWRlcyhldmVudFR5cGUpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5mcmFtZXBvc3Q9dCgpOmUuZnJhbWVwb3N0PXQoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcz10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHMuZXhwb3J0cyxzLHMuZXhwb3J0cyxuKSxzLmw9ITAscy5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBzIGluIGUpbi5kKGkscyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHMpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTQpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEU9dC5SRVFVRVNUX1RJTUVPVVQ9dC5UcmFuc2FjdGlvbkRpcmVjdGlvbj10LlByb2ZpbGVFdmVudFR5cGU9dC5NZXNzYWdlQVBJVmVyc2lvbj10Lk1lc3NhZ2VUeXBlPXZvaWQgMCxmdW5jdGlvbihlKXtlLkNIQU5ORUxfSU5JVD1cImNoYW5uZWxfaW5pdFwiLGUuRVZFTlQ9XCJldmVudFwiLGUuUkVRVUVTVD1cInJlcXVlc3RcIixlLlJFU1BPTlNFPVwicmVzcG9uc2VcIn0odC5NZXNzYWdlVHlwZXx8KHQuTWVzc2FnZVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLnYxPVwiZnJhbWVwb3N0L3YxXCJ9KHQuTWVzc2FnZUFQSVZlcnNpb258fCh0Lk1lc3NhZ2VBUElWZXJzaW9uPXt9KSksZnVuY3Rpb24oZSl7ZS5QT1NUX01FU1NBR0U9XCJwb3N0X21lc3NhZ2VcIixlLlJFQ0VJVkVfTUVTU0FHRT1cInJlY2VpdmVfbWVzc2FnZVwifSh0LlByb2ZpbGVFdmVudFR5cGV8fCh0LlByb2ZpbGVFdmVudFR5cGU9e30pKSxmdW5jdGlvbihlKXtlLlVQPVwidXBcIixlLkRPV049XCJkb3duXCJ9KHQuVHJhbnNhY3Rpb25EaXJlY3Rpb258fCh0LlRyYW5zYWN0aW9uRGlyZWN0aW9uPXt9KSksdC5SRVFVRVNUX1RJTUVPVVQ9MWU0LHQuUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEU9XCJmcmFtZXBvc3RfZ2V0X3Byb2ZpbGVcIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TG9nZ2VyPXZvaWQgMCx0LmdldExvZ2dlcj0oZSx0KT0+dD97bG9nOnQ9PmNvbnNvbGUubG9nKGAke2V9OiAke3R9YCksZXJyb3I6dD0+Y29uc29sZS5lcnJvcihgJHtlfTogJHt0fWApfTp7bG9nKCl7fSxlcnJvcigpe319fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihzLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP3MoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKG8sYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNoYXJlZENsaWVudD12b2lkIDA7Y29uc3Qgcz1uKDApLHI9big2KSxvPW4oMyk7dC5TaGFyZWRDbGllbnQ9Y2xhc3N7Y29uc3RydWN0b3Ioe2RlYnVnOmU9ITEscHJvZmlsZTp0PSExfT17fSl7dGhpcy5kZWJ1Zz1lLHRoaXMucHJvZmlsZT10LHRoaXMuY2hhbm5lbD1vLmRlZmVyKCksdGhpcy5ldmVudFN1YnNjcmlwdGlvbnM9e30sdGhpcy5yZXNwb25zZVN1YnNjcmlwdGlvbnM9e30sdGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9ucz17fSx0aGlzLmxvZ2dlcj10aGlzLmdldExvZ2dlcigpLHRoaXMucHJvZmlsZXI9ci5nZXRQcm9maWxlcih0KSx0aGlzLm1lc3NhZ2VMaXN0ZW5lcj10aGlzLm1lc3NhZ2VMaXN0ZW5lci5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMubWVzc2FnZUxpc3RlbmVyKSx0aGlzLmxvZ2dlci5sb2coXCJDbGllbnQgaW5pdGlhbGl6ZWQuIExpc3RlbmluZyBmb3IgbWVzc2FnZXNcIiksdGhpcy5jaGFubmVsLnByb21pc2UudGhlbigoKT0+e3RoaXMubG9nZ2VyLmxvZyhcIlNlY3VyZSBwYXJlbnQgPC0+IGNoaWxkIGNoYW5uZWwgZXN0YWJsaXNoZWRcIil9KX1zZW5kKGUsdCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5wb3N0TWVzc2FnZShzLk1lc3NhZ2VUeXBlLkVWRU5ULGUsdCl9KSl9b24oZSx0KXt0aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1tlXXx8KHRoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdPXt9KTtjb25zdCBuPW8ucmFuZG9tSW5zZWN1cmVJZCg4KTtyZXR1cm4gdGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbZV1bbl09dCx0aGlzLmxvZ2dlci5sb2coYFJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgZXZlbnQgXCIke2V9XCJgKSwoKT0+e3RoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdPW8ub21pdCh0aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1tlXSxuKSx0aGlzLmxvZ2dlci5sb2coXCJVbnN1YnNjcmliZWQgaGFuZGxlciBmb3IgZXZlbnQgXCIrZSl9fXJlcXVlc3QoZSx0KXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IG49eWllbGQgdGhpcy5wb3N0TWVzc2FnZShzLk1lc3NhZ2VUeXBlLlJFUVVFU1QsZSx0KSxpPSgpPT57dGhpcy5yZXNwb25zZVN1YnNjcmlwdGlvbnM9by5vbWl0KHRoaXMucmVzcG9uc2VTdWJzY3JpcHRpb25zLG4uaWQpfTtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9PntsZXQgcjt0aGlzLnJlc3BvbnNlU3Vic2NyaXB0aW9uc1tuLmlkXT0odCxuKT0+e2NsZWFyVGltZW91dChyKSxpKCksZSh0KX0scj1zZXRUaW1lb3V0KCgpPT57aSgpLHQoXCJSZXF1ZXN0IHRpbWVkIG91dFwiKX0scy5SRVFVRVNUX1RJTUVPVVQpfSl9KSl9b25SZXF1ZXN0KGUsdCl7cmV0dXJuIHRoaXMucmVxdWVzdFN1YnNjcmlwdGlvbnNbZV09KG4scik9PmkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIHQobixyKTt0aGlzLnBvc3RNZXNzYWdlKHMuTWVzc2FnZVR5cGUuUkVTUE9OU0UsZSxpLHIuaWQpfSkpLCgpPT57dGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9ucz1vLm9taXQodGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9ucyxlKX19Z2V0Q29udGV4dCgpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7Y29udGV4dDplfT15aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZTtyZXR1cm4gZX0pKX1kZXN0cm95KCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5tZXNzYWdlTGlzdGVuZXIpfW1lc3NhZ2VMaXN0ZW5lcihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHQ9dGhpcy5pc1ZhbGlkTWVzc2FnZShlKTtpZih0JiZlLmRhdGEudHlwZT09PXMuTWVzc2FnZVR5cGUuQ0hBTk5FTF9JTklUKXJldHVybiB0aGlzLmVzdGFibGlzaENoYW5uZWwoZSksdm9pZCB0aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KHMuUHJvZmlsZUV2ZW50VHlwZS5SRUNFSVZFX01FU1NBR0UsZS5kYXRhKTtpZih5aWVsZCB0aGlzLmlzRnJvbVNvdXJjZShlKSlpZih0KXtzd2l0Y2goZS5kYXRhLnR5cGUpe2Nhc2Ugcy5NZXNzYWdlVHlwZS5FVkVOVDp0aGlzLmhhbmRsZUV2ZW50KGUpO2JyZWFrO2Nhc2Ugcy5NZXNzYWdlVHlwZS5SRVFVRVNUOnRoaXMuaGFuZGxlUmVxdWVzdChlKTticmVhaztjYXNlIHMuTWVzc2FnZVR5cGUuUkVTUE9OU0U6dGhpcy5oYW5kbGVSZXNwb25zZShlKX10aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KHMuUHJvZmlsZUV2ZW50VHlwZS5SRUNFSVZFX01FU1NBR0UsZS5kYXRhKX1lbHNlIHRoaXMubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBtZXNzYWdlIGZvcm1hdC4gU2tpcHBpbmcuXCIpfSkpfWhhbmRsZUV2ZW50KGUpe2NvbnN0IHQ9ZS5kYXRhLG49dGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbdC5rZXldO24mJk9iamVjdC52YWx1ZXMobikuZm9yRWFjaChlPT5lKHQuZGF0YSx0KSl9aGFuZGxlUmVxdWVzdChlKXtjb25zdCB0PWUuZGF0YSxuPXRoaXMucmVxdWVzdFN1YnNjcmlwdGlvbnNbdC5rZXldO24mJihuKHQuZGF0YSx0KSx0aGlzLmxvZ2dlci5sb2coXCJIYW5kbGVkIHJlcXVlc3QgdHlwZSBcIit0LmtleSkpfWhhbmRsZVJlc3BvbnNlKGUpe2NvbnN0IHQ9ZS5kYXRhLG49dC5yZXF1ZXN0SWQsaT1uJiZ0aGlzLnJlc3BvbnNlU3Vic2NyaXB0aW9uc1tuXTtpJiZpKHQuZGF0YSx0KX1wb3N0TWVzc2FnZShlLHQsbixyKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3NvdXJjZTppLG9yaWdpbjphfT15aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZSxjPXt0eXBlOmUsYXBpVmVyc2lvbjpzLk1lc3NhZ2VBUElWZXJzaW9uLnYxLGtleTp0LGRhdGE6bixpZDpvLnJhbmRvbUluc2VjdXJlSWQoKSxyZXF1ZXN0SWQ6cn07cmV0dXJuIGkucG9zdE1lc3NhZ2UoYyxhKSx0aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KHMuUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UsYyksY30pKX1pc0Zyb21Tb3VyY2UoZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtzb3VyY2U6dH09eWllbGQgdGhpcy5jaGFubmVsLnByb21pc2U7cmV0dXJuIGUuc291cmNlPT09dH0pKX1pc1ZhbGlkTWVzc2FnZShlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC50eXBlJiZ0LmlkJiZ0LmFwaVZlcnNpb249PT1zLk1lc3NhZ2VBUElWZXJzaW9uLnYxfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBzPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtzPGkubGVuZ3RoO3MrKyl0LmluZGV4T2YoaVtzXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtzXSkmJihuW2lbc11dPWVbaVtzXV0pfXJldHVybiBufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnByb2ZpbGVNZXNzYWdlcz10Lm9taXQ9dC5yYW5kb21JbnNlY3VyZUlkPXQuZGVmZXI9dm9pZCAwO2NvbnN0IHM9bigwKTt0LmRlZmVyPSgpPT57bGV0IGU9KCk9Pnt9LHQ9KCk9Pnt9O2NvbnN0IG49bmV3IFByb21pc2UoKG4saSk9PntlPW4sdD1pfSk7cmV0dXJue3Jlc29sdmU6ZSxyZWplY3Q6dCxwcm9taXNlOm59fSx0LnJhbmRvbUluc2VjdXJlSWQ9KGU9MTYpPT5bLi4uQXJyYXkoZSldLm1hcCgoKT0+KH5+KDM2Kk1hdGgucmFuZG9tKCkpKS50b1N0cmluZygzNikpLmpvaW4oXCJcIiksdC5vbWl0PShlLHQpPT57Y29uc3Qgbj1lLHM9dDtuW3NdO3JldHVybiBpKG4sW1wic3ltYm9sXCI9PXR5cGVvZiBzP3M6cytcIlwiXSl9O3QucHJvZmlsZU1lc3NhZ2VzPShlLHQpPT57Y29uc3Qgbj0oKGUsdCk9Pntjb25zdCBuPXt9O3JldHVybiBlLmZvckVhY2goZT0+e25bdChlKV09ZX0pLG59KShlLmNvbmNhdCh0KS5maWx0ZXIoZT0+ZS50eXBlPT09cy5Qcm9maWxlRXZlbnRUeXBlLlJFQ0VJVkVfTUVTU0FHRSksZT0+ZS5tZXNzYWdlLmlkKSxpPVtdLHI9KHtkYXRlOmUsbWVzc2FnZTp0fSk9Pntjb25zdCBpPXtpZDp0LmlkLGRpcmVjdGlvbjpzLlRyYW5zYWN0aW9uRGlyZWN0aW9uLkRPV04scG9zdFRpbWU6ZSxtZXNzYWdlOnR9LHI9blt0LmlkXTtyZXR1cm4gciYmKGkucmVjZWl2ZVRpbWU9ci5kYXRlLGkuZHVyYXRpb249KHIuZGF0ZS5nZXRUaW1lKCktZS5nZXRUaW1lKCkpLzFlMyksaX07cmV0dXJuIGUuZmlsdGVyKGU9PmUudHlwZT09PXMuUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UpLmZvckVhY2goZT0+e2NvbnN0IHQ9cihlKTtpLnB1c2godCl9KSx0LmZpbHRlcihlPT5lLnR5cGU9PT1zLlByb2ZpbGVFdmVudFR5cGUuUE9TVF9NRVNTQUdFKS5mb3JFYWNoKGU9Pntjb25zdCB0PXIoZSk7dC5kaXJlY3Rpb249cy5UcmFuc2FjdGlvbkRpcmVjdGlvbi5VUCxpLnB1c2godCl9KSxpLmZpbHRlcihlPT5lLm1lc3NhZ2Uua2V5IT09cy5SRVFVRVNUX0tFWV9HRVRfUFJPRklMRSkuc29ydCgoZSx0KT0+ZS5wb3N0VGltZS5nZXRUaW1lKCktdC5wb3N0VGltZS5nZXRUaW1lKCkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxzPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlBhcmVudENsaWVudD10LkNoaWxkQ2xpZW50PXZvaWQgMDt2YXIgcj1uKDUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQ2hpbGRDbGllbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5DaGlsZENsaWVudH19KTt2YXIgbz1uKDcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUGFyZW50Q2xpZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uUGFyZW50Q2xpZW50fX0pLHMobig4KSx0KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hpbGRDbGllbnQ9dm9pZCAwO2NvbnN0IGk9bigwKSxzPW4oMSkscj1uKDIpO2NsYXNzIG8gZXh0ZW5kcyByLlNoYXJlZENsaWVudHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnBhcmVudENvbnRleHQ9ZS5wYXJlbnRDb250ZXh0fHxudWxsLHRoaXMucHJvZmlsZSYmdGhpcy5vblJlcXVlc3QoaS5SRVFVRVNUX0tFWV9HRVRfUFJPRklMRSwoKT0+dGhpcy5wcm9maWxlci5nZXRFdmVudHMoKSl9Z2V0TG9nZ2VyKCl7cmV0dXJuIHMuZ2V0TG9nZ2VyKFwiY2hpbGQtY2xpZW50XCIsdGhpcy5kZWJ1Zyl9ZXN0YWJsaXNoQ2hhbm5lbChlKXtjb25zdCB0PXtzb3VyY2U6ZS5zb3VyY2Usb3JpZ2luOmUub3JpZ2luLGNvbnRleHQ6ZS5kYXRhLmRhdGF9O3RoaXMuY2hhbm5lbC5yZXNvbHZlKHQpLHRoaXMucG9zdE1lc3NhZ2UoaS5NZXNzYWdlVHlwZS5DSEFOTkVMX0lOSVQsXCJcIix0aGlzLnBhcmVudENvbnRleHQpfX10LkNoaWxkQ2xpZW50PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldFByb2ZpbGVyPXZvaWQgMCx0LmdldFByb2ZpbGVyPWU9Pntjb25zdCB0PVtdO3JldHVybntsb2dFdmVudChuLGkpe2UmJnQucHVzaCh7dHlwZTpuLG1lc3NhZ2U6aSxkYXRlOm5ldyBEYXRlfSl9LGdldEV2ZW50czooKT0+dH19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihzLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP3MoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKG8sYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlBhcmVudENsaWVudD12b2lkIDA7Y29uc3Qgcz1uKDApLHI9bigxKSxvPW4oMiksYT1uKDMpO2NsYXNzIGMgZXh0ZW5kcyBvLlNoYXJlZENsaWVudHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1yZXF1ZXN0Q2hhbm5lbChlLHQpe2lmKHRoaXMuZnJhbWU9ZSx0aGlzLnVybD1uZXcgVVJMKGUuc3JjKSxlLmNvbnRlbnRXaW5kb3cpe2NvbnN0IG49e3R5cGU6cy5NZXNzYWdlVHlwZS5DSEFOTkVMX0lOSVQsYXBpVmVyc2lvbjpzLk1lc3NhZ2VBUElWZXJzaW9uLnYxLGtleTpcIlwiLGRhdGE6dCxpZDphLnJhbmRvbUluc2VjdXJlSWQoKX07ZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG4sdGhpcy51cmwub3JpZ2luKSx0aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KHMuUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0Usbil9fWdldE1lc3NhZ2VQcm9maWxlKCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBlPXlpZWxkIHRoaXMucmVxdWVzdChzLlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFKSx0PXRoaXMucHJvZmlsZXIuZ2V0RXZlbnRzKCk7cmV0dXJuIGEucHJvZmlsZU1lc3NhZ2VzKHQsZSl9KSl9ZXN0YWJsaXNoQ2hhbm5lbChlKXtpZih0aGlzLmZyYW1lJiZlLnNvdXJjZT09PXRoaXMuZnJhbWUuY29udGVudFdpbmRvdyl7Y29uc3QgdD17c291cmNlOmUuc291cmNlLG9yaWdpbjplLm9yaWdpbixjb250ZXh0OmUuZGF0YS5kYXRhfTt0aGlzLmNoYW5uZWwucmVzb2x2ZSh0KX19Z2V0TG9nZ2VyKCl7cmV0dXJuIHIuZ2V0TG9nZ2VyKFwicGFyZW50LWNsaWVudFwiLHRoaXMuZGVidWcpfX10LlBhcmVudENsaWVudD1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9XSl9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcmFtZXBvc3QubWluLmpzLm1hcCIsImltcG9ydCB7IFVpQXBwQ2FwYWJpbGl0eVR5cGUsIFVpQXBwRXZlbnRUeXBlIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgQ2FwYWJpbGl0eU1hbmFnZXIgfSBmcm9tICcuL2NhcGFiaWxpdHlNYW5hZ2VyJztcblxuZXhwb3J0IHR5cGUgeyBDYXBhYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vY2FwYWJpbGl0eU1hbmFnZXInO1xuXG5jbGFzcyBEYXNoYm9hcmRDb2dNZW51TWFuYWdlciBleHRlbmRzIENhcGFiaWxpdHlNYW5hZ2VyIHtcbiAgICB0eXBlID0gVWlBcHBDYXBhYmlsaXR5VHlwZS5EQVNIQk9BUkRfQ09HX01FTlU7XG4gICAgZXZlbnRzID0gW1VpQXBwRXZlbnRUeXBlLkRBU0hCT0FSRF9DT0dfTUVOVV9DT05URVhUXTtcblxuICAgIGdldEFkZGl0aW9uYWxDbGllbnRNZXRob2RzKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY2FwYWJpbGl0eU1hbmFnZXJzID0gW0Rhc2hib2FyZENvZ01lbnVNYW5hZ2VyXTtcbiIsImltcG9ydCB0eXBlIHsgQ2hpbGRDbGllbnQgfSBmcm9tICdAZGF0YWRvZy9mcmFtZXBvc3QnO1xuXG5pbXBvcnQgdHlwZSB7IEREQ2xpZW50IH0gZnJvbSAnLi4vY2xpZW50JztcbmltcG9ydCB7IFVpQXBwQ2FwYWJpbGl0eVR5cGUsIFVpQXBwRXZlbnRUeXBlIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciwgTG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IEFwcENvbnRleHQsIENsaWVudE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYXBhYmlsaXR5TWFuYWdlciB7XG4gICAgYWJzdHJhY3QgdHlwZTogVWlBcHBDYXBhYmlsaXR5VHlwZTtcbiAgICBhYnN0cmFjdCBldmVudHM6IFVpQXBwRXZlbnRUeXBlW107XG5cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaG9zdDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBkZWJ1ZzogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGZyYW1lUG9zdENsaWVudDogQ2hpbGRDbGllbnQ8QXBwQ29udGV4dD47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgb3B0aW9uczogUmVxdWlyZWQ8Q2xpZW50T3B0aW9ucz4sXG4gICAgICAgIGZyYW1lUG9zdENsaWVudDogQ2hpbGRDbGllbnQ8QXBwQ29udGV4dD5cbiAgICApIHtcbiAgICAgICAgdGhpcy5ob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgICAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5kZWJ1ZztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZnJhbWVQb3N0Q2xpZW50ID0gZnJhbWVQb3N0Q2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcGxhY2UgZm9yIGV2ZW50dWFsIGV4dGVuc2lvbnMgb2YgdGhlIGJhc2UgY2xpZW50IG1ldGhvZHMsIHNwZWNpZmljIHRvIGEgY2FwYWJpbGl0eVxuICAgICAqIEV4YW1wbGU6XG4gICAgICogcHJpdmF0ZSBnZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcygpOiB7IFtuYW1lOiBzdHJpbmddOiBGdW5jdGlvbiB9IHtcbiAgICAgKiAgIHJldHVybiAge1xuICAgICAqICAgICBnZXRUaW1lU2VyaWVzOiAoKSA9PiB0aGlzLmdldFRpbWVTZXJpZXMoKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICovXG4gICAgYWJzdHJhY3QgZ2V0QWRkaXRpb25hbENsaWVudE1ldGhvZHMoKTogeyBbbmFtZTogc3RyaW5nXTogRnVuY3Rpb24gfTtcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIGFkZGl0aW9uYWwgbWV0aG9kcyBpbiBhIGNoZWNrIGFnYWluc3QgdGhlIGNhcGFiaWxpdHkgdHlwZSwgdGhlbiBhcHBsaWVzIHRvIHByb3ZpZGVkIGNsaWVudCBvYmplY3QuIERvIG5vdCBvdmVycmlkZVxuICAgICAqL1xuICAgIGFwcGx5QWRkaXRpb25hbE1ldGhvZHMoY2xpZW50OiBERENsaWVudCkge1xuICAgICAgICBjb25zdCBhZGRpdGlvbmFsTWV0aG9kcyA9IHRoaXMuZ2V0QWRkaXRpb25hbENsaWVudE1ldGhvZHMoKTtcblxuICAgICAgICBjb25zdCB3cmFwcGVkTWV0aG9kczogeyBbbmFtZTogc3RyaW5nXTogRnVuY3Rpb24gfSA9IHt9O1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGFkZGl0aW9uYWxNZXRob2RzKS5mb3JFYWNoKChba2V5LCBtZXRob2RdKSA9PiB7XG4gICAgICAgICAgICB3cmFwcGVkTWV0aG9kc1trZXldID0gYXN5bmMgKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNFbmFibGVkID0gYXdhaXQgdGhpcy5pc0VuYWJsZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGBUaGUgJHt0aGlzLnR5cGV9IGNhcGFiaWxpdHkgbXVzdCBiZSBlbmFibGVkIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb25gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjbGllbnQsIHdyYXBwZWRNZXRob2RzKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0VuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHsgY2FwYWJpbGl0aWVzIH0gPSBhd2FpdCB0aGlzLmZyYW1lUG9zdENsaWVudC5nZXRDb250ZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuIGNhcGFiaWxpdGllcy5pbmNsdWRlcyh0aGlzLnR5cGUpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=