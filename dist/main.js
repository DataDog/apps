!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DD_SDK=t():e.DD_SDK=t()}(self,(function(){return e={145:e=>{self,e.exports=(()=>{"use strict";var e={573:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChildClient=void 0;const s=i(601),n=i(473),r=i(416);class o extends r.SharedClient{constructor(e={}){super(e),this.context=e.context||null,this.initListener=this.initListener.bind(this),window.addEventListener("message",this.initListener),this.profile&&this.onRequest(s.REQUEST_KEY_GET_PROFILE,(()=>this.profiler.getEvents()))}getLogger(){return n.getLogger("child-client",this.debug)}onChannelInit(e){window.removeEventListener("message",this.initListener),this.messagePort=e.ports[0];const t=this.getInitMessage(this.context);this.messagePort.postMessage(t),this.profiler.logEvent(s.ProfileEventType.POST_MESSAGE,t)}destroy(){this.messagePort&&this.messagePort.close(),window.removeEventListener("message",this.initListener)}}t.ChildClient=o},601:(e,t)=>{var i,s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_KEY_GET_PROFILE=t.REQUEST_TIMEOUT=t.TransactionDirection=t.ProfileEventType=t.MessageAPIVersion=t.MessageType=void 0,(n=t.MessageType||(t.MessageType={})).CHANNEL_INIT="channel_init",n.EVENT="event",n.REQUEST="request",n.RESPONSE="response",(t.MessageAPIVersion||(t.MessageAPIVersion={})).v1="framepost/v1",(s=t.ProfileEventType||(t.ProfileEventType={})).POST_MESSAGE="post_message",s.RECEIVE_MESSAGE="receive_message",(i=t.TransactionDirection||(t.TransactionDirection={})).UP="up",i.DOWN="down",t.REQUEST_TIMEOUT=1e4,t.REQUEST_KEY_GET_PROFILE="framepost_get_profile"},607:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=t.ChildClient=void 0;var r=i(573);Object.defineProperty(t,"ChildClient",{enumerable:!0,get:function(){return r.ChildClient}});var o=i(166);Object.defineProperty(t,"ParentClient",{enumerable:!0,get:function(){return o.ParentClient}}),n(i(699),t)},473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=(e,t)=>t?{log:t=>console.log(`${e}: ${t}`),error:t=>console.error(`${e}: ${t}`)}:{log(){},error(){}}},166:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentClient=void 0;const n=i(601),r=i(473),o=i(416),a=i(593);class c extends o.SharedClient{constructor(e={}){super(e)}requestChannel(e,t){if(this.url=new URL(e.src),e.contentWindow){const i=new MessageChannel;this.messagePort=i.port1;const s=this.getInitMessage(t);this.messagePort.onmessage=this.initListener.bind(this),e.contentWindow.postMessage(s,this.url.origin,[i.port2]),this.profiler.logEvent(n.ProfileEventType.POST_MESSAGE,s)}}getMessageProfile(){return s(this,void 0,void 0,(function*(){const e=yield this.request(n.REQUEST_KEY_GET_PROFILE),t=this.profiler.getEvents();return a.profileMessages(t,e)}))}onChannelInit(){}getLogger(){return r.getLogger("parent-client",this.debug)}destroy(){this.messagePort&&this.messagePort.close()}}t.ParentClient=c},819:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getProfiler=void 0,t.getProfiler=e=>{const t=[];return{logEvent(i,s){e&&t.push({type:i,message:s,date:new Date})},getEvents:()=>t}}},416:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SharedClient=void 0;const n=i(601),r=i(819),o=i(593);t.SharedClient=class{constructor({debug:e=!1,profile:t=!1,requestTimeout:i=n.REQUEST_TIMEOUT}={}){this.debug=e,this.profile=t,this.requestTimeout=i,this.channel=o.defer(),this.eventSubscriptions={},this.responseSubscriptions={},this.requestSubscriptions={},this.logger=this.getLogger(),this.profiler=r.getProfiler(t),this.channel.promise.then((()=>{this.logger.log("Secure parent <-> child channel established")}))}send(e,t){return s(this,void 0,void 0,(function*(){return this.postMessage(n.MessageType.EVENT,e,t)}))}on(e,t){this.eventSubscriptions[e]||(this.eventSubscriptions[e]={});const i=o.randomInsecureId(8);return this.eventSubscriptions[e][i]=t,this.logger.log(`Registered handler for event "${e}"`),()=>{this.eventSubscriptions[e]=o.omit(this.eventSubscriptions[e],i),this.logger.log("Unsubscribed handler for event "+e)}}request(e,t){return s(this,void 0,void 0,(function*(){const i=yield this.postMessage(n.MessageType.REQUEST,e,t),s=()=>{this.responseSubscriptions=o.omit(this.responseSubscriptions,i.id)};return new Promise(((e,t)=>{let n;this.responseSubscriptions[i.id]=(t,i)=>{clearTimeout(n),s(),e(t)},n=setTimeout((()=>{s(),t("Request timed out")}),this.requestTimeout)}))}))}onRequest(e,t){return this.requestSubscriptions[e]=(i,r)=>s(this,void 0,void 0,(function*(){const s=yield t(i,r);this.postMessage(n.MessageType.RESPONSE,e,s,r.id)})),()=>{this.requestSubscriptions=o.omit(this.requestSubscriptions,e)}}getContext(){return s(this,void 0,void 0,(function*(){const{context:e}=yield this.channel.promise;return e}))}messageListener(e){return s(this,void 0,void 0,(function*(){if(yield this.channel.promise,this.isValidMessage(e)){switch(e.data.type){case n.MessageType.EVENT:this.handleEvent(e);break;case n.MessageType.REQUEST:this.handleRequest(e);break;case n.MessageType.RESPONSE:this.handleResponse(e)}this.profiler.logEvent(n.ProfileEventType.RECEIVE_MESSAGE,e.data)}else this.logger.error("Invalid message format. Skipping.")}))}handleEvent(e){const t=e.data,i=this.eventSubscriptions[t.key];i&&Object.values(i).forEach((e=>e(t.data,t)))}handleRequest(e){const t=e.data,i=this.requestSubscriptions[t.key];i&&(i(t.data,t),this.logger.log("Handled request type "+t.key))}handleResponse(e){const t=e.data,i=t.requestId,s=i&&this.responseSubscriptions[i];s&&s(t.data,t)}postMessage(e,t,i,r){return s(this,void 0,void 0,(function*(){const{port:s}=yield this.channel.promise,a={type:e,apiVersion:n.MessageAPIVersion.v1,key:t,data:i,id:o.randomInsecureId(),requestId:r};return s.postMessage(a),this.profiler.logEvent(n.ProfileEventType.POST_MESSAGE,a),a}))}initListener(e){this.isInitMessage(e)?(this.profiler.logEvent(n.ProfileEventType.RECEIVE_MESSAGE,e.data),this.onChannelInit(e),this.messagePort&&(this.messagePort.onmessage=this.messageListener.bind(this)),this.resolveChannel(e)):this.logger.error("Invalid message format. Skipping.")}isValidMessage(e){const t=e.data;return t.type&&t.id&&t.apiVersion===n.MessageAPIVersion.v1}isInitMessage(e){return this.isValidMessage(e)&&e.data.type===n.MessageType.CHANNEL_INIT}resolveChannel(e){if(this.messagePort){const t={port:this.messagePort,origin:e.origin,context:e.data.data};this.channel.resolve(t)}}getInitMessage(e){return{type:n.MessageType.CHANNEL_INIT,apiVersion:n.MessageAPIVersion.v1,key:"",data:e,id:o.randomInsecureId()}}}},699:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},593:function(e,t,i){var s=this&&this.__rest||function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.profileMessages=t.omit=t.randomInsecureId=t.defer=void 0;const n=i(601);t.defer=()=>{let e=()=>{},t=()=>{};const i=new Promise(((i,s)=>{e=i,t=s}));return{resolve:e,reject:t,promise:i}},t.randomInsecureId=(e=16)=>[...Array(e)].map((()=>(~~(36*Math.random())).toString(36))).join(""),t.omit=(e,t)=>{const i=e,n=t;return i[n],s(i,["symbol"==typeof n?n:n+""])},t.profileMessages=(e,t)=>{const i=((e,t)=>{const i={};return e.forEach((e=>{i[(e=>e.message.id)(e)]=e})),i})(e.concat(t).filter((e=>e.type===n.ProfileEventType.RECEIVE_MESSAGE))),s=[],r=({date:e,message:t})=>{const s={id:t.id,direction:n.TransactionDirection.DOWN,postTime:e,message:t},r=i[t.id];return r&&(s.receiveTime=r.date,s.duration=(r.date.getTime()-e.getTime())/1e3),s};return e.filter((e=>e.type===n.ProfileEventType.POST_MESSAGE)).forEach((e=>{const t=r(e);s.push(t)})),t.filter((e=>e.type===n.ProfileEventType.POST_MESSAGE)).forEach((e=>{const t=r(e);t.direction=n.TransactionDirection.UP,s.push(t)})),s.filter((e=>e.message.key!==n.REQUEST_KEY_GET_PROFILE)).sort(((e,t)=>e.postTime.getTime()-t.postTime.getTime()))}}},t={};return function i(s){if(t[s])return t[s].exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}(607)})()},235:function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CapabilityManager=void 0;const n=i(473);t.CapabilityManager=class{constructor(e,t){this.host=e.host,this.debug=e.debug,this.logger=n.getLogger(e),this.framePostClient=t}applyAdditionalMethods(e){const t=this.getAdditionalClientMethods(),i={};Object.entries(t).forEach((([e,t])=>{i[e]=(...e)=>s(this,void 0,void 0,(function*(){if(yield this.isEnabled())return t(...e);this.logger.error(`The ${this.type} capability must be enabled to perform this action`)}))})),Object.assign(e,i)}isEnabled(){return s(this,void 0,void 0,(function*(){const{capabilities:e}=yield this.framePostClient.getContext();return e.includes(this.type)}))}}},631:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capabilityManagers=void 0;const s=i(601),n=i(235);class r extends n.CapabilityManager{constructor(){super(...arguments),this.type=s.UiAppCapabilityType.DASHBOARD_COG_MENU,this.events=[s.UiAppEventType.DASHBOARD_COG_MENU_CONTEXT]}getAdditionalClientMethods(){return{}}}t.capabilityManagers=[r]},934:function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DDClient=void 0;const n=i(145),r=i(631),o=i(601),a=i(473),c={host:o.Host.STAGE,debug:!1};t.DDClient=class{constructor(e={}){this.host=e.host||c.host,this.debug=e.debug||c.debug,this.framePostClient=new n.ChildClient({debug:this.debug,profile:this.debug,context:{sdkVersion:o.SDK_VERSION}}),this.logger=a.getLogger(e),this.capabilityManagers=r.capabilityManagers.map((e=>new e({host:this.host,debug:this.debug},this.framePostClient))),this.capabilityManagers.forEach((e=>e.applyAdditionalMethods(this)))}on(e,t){const i=this.getManagerByEventType(e);return i?this.framePostClient.on(e,((...n)=>s(this,void 0,void 0,(function*(){(yield i.isEnabled())?t(...n):this.logger.error(`The ${i.type} capability must be enabled to respond to events of type ${e}.`)})))):(this.logger.error("Unknown event type"),()=>{})}getContext(){return s(this,void 0,void 0,(function*(){return this.framePostClient.getContext()}))}getManagerByType(e){return this.capabilityManagers.find((t=>t.type===e))}getManagerByEventType(e){return this.capabilityManagers.find((t=>t.events.includes(e)))}}},601:(e,t)=>{"use strict";var i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION=t.UiAppEventType=t.UiAppCapabilityType=t.Host=void 0,(s=t.Host||(t.Host={})).PROD="https://app.datadoghq.com/",s.STAGE="https://dd.datad0g.com/",(i=t.UiAppCapabilityType||(t.UiAppCapabilityType={})).APP_CONTEXT="app_context",i.DASHBOARD_COG_MENU="dashboard_cog_menu",(t.UiAppEventType||(t.UiAppEventType={})).DASHBOARD_COG_MENU_CONTEXT="dashboard_cog_menu_context",t.SDK_VERSION="0.1.0"},607:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const s=i(934);let n;t.init=(e,t)=>(n||(n=new s.DDClient(e)),t&&n.getContext().then(t),n)},473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0,t.getLogger=e=>e.debug?{log:e=>console.log("dd-apps: "+e),error:e=>console.error("dd-apps: "+e)}:{log(){},error(){}}}},t={},function i(s){if(t[s])return t[s].exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}(607);var e,t}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ERF9TREsvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0REX1NESy8uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9mcmFtZXBvc3QvZGlzdC9mcmFtZXBvc3QubWluLmpzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9jYXBhYmlsaXRlcy9jYXBhYmlsaXR5TWFuYWdlci50cyIsIndlYnBhY2s6Ly9ERF9TREsvLi9zcmMvY2FwYWJpbGl0ZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vRERfU0RLLy4vc3JjL2NsaWVudC50cyIsIndlYnBhY2s6Ly9ERF9TREsvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL0REX1NESy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9ERF9TREsvLi9zcmMvbG9nZ2VyLnRzIiwid2VicGFjazovL0REX1NESy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ERF9TREsvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJlIiwiNTczIiwidCIsInMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiQ2hpbGRDbGllbnQiLCJpIiwibiIsInIiLCJvIiwiU2hhcmVkQ2xpZW50Iiwic3VwZXIiLCJ0aGlzIiwiY29udGV4dCIsImluaXRMaXN0ZW5lciIsImJpbmQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicHJvZmlsZSIsIm9uUmVxdWVzdCIsIlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFIiwicHJvZmlsZXIiLCJnZXRFdmVudHMiLCJnZXRMb2dnZXIiLCJkZWJ1ZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtZXNzYWdlUG9ydCIsInBvcnRzIiwiZ2V0SW5pdE1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImxvZ0V2ZW50IiwiUHJvZmlsZUV2ZW50VHlwZSIsIlBPU1RfTUVTU0FHRSIsImNsb3NlIiwiNjAxIiwiUkVRVUVTVF9USU1FT1VUIiwiVHJhbnNhY3Rpb25EaXJlY3Rpb24iLCJNZXNzYWdlQVBJVmVyc2lvbiIsIk1lc3NhZ2VUeXBlIiwiQ0hBTk5FTF9JTklUIiwiRVZFTlQiLCJSRVFVRVNUIiwiUkVTUE9OU0UiLCJ2MSIsIlJFQ0VJVkVfTUVTU0FHRSIsIlVQIiwiRE9XTiIsIjYwNyIsIl9fY3JlYXRlQmluZGluZyIsImNyZWF0ZSIsImVudW1lcmFibGUiLCJnZXQiLCJfX2V4cG9ydFN0YXIiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQYXJlbnRDbGllbnQiLCI0NzMiLCJsb2ciLCJjb25zb2xlIiwiZXJyb3IiLCIxNjYiLCJfX2F3YWl0ZXIiLCJQcm9taXNlIiwiYyIsIm5leHQiLCJhIiwidGhyb3ciLCJkb25lIiwidGhlbiIsImFwcGx5IiwidXJsIiwiVVJMIiwic3JjIiwiY29udGVudFdpbmRvdyIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJvcmlnaW4iLCJwb3J0MiIsInJlcXVlc3QiLCJwcm9maWxlTWVzc2FnZXMiLCI4MTkiLCJnZXRQcm9maWxlciIsInB1c2giLCJ0eXBlIiwibWVzc2FnZSIsImRhdGUiLCJEYXRlIiwiNDE2IiwicmVxdWVzdFRpbWVvdXQiLCJjaGFubmVsIiwiZGVmZXIiLCJldmVudFN1YnNjcmlwdGlvbnMiLCJyZXNwb25zZVN1YnNjcmlwdGlvbnMiLCJyZXF1ZXN0U3Vic2NyaXB0aW9ucyIsImxvZ2dlciIsInByb21pc2UiLCJyYW5kb21JbnNlY3VyZUlkIiwib21pdCIsImlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImlzVmFsaWRNZXNzYWdlIiwiZGF0YSIsImhhbmRsZUV2ZW50IiwiaGFuZGxlUmVxdWVzdCIsImhhbmRsZVJlc3BvbnNlIiwia2V5IiwidmFsdWVzIiwiZm9yRWFjaCIsInJlcXVlc3RJZCIsInBvcnQiLCJhcGlWZXJzaW9uIiwiaXNJbml0TWVzc2FnZSIsIm9uQ2hhbm5lbEluaXQiLCJtZXNzYWdlTGlzdGVuZXIiLCJyZXNvbHZlQ2hhbm5lbCIsInJlc29sdmUiLCI2OTkiLCI1OTMiLCJfX3Jlc3QiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGVuZ3RoIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJyZWplY3QiLCJBcnJheSIsIm1hcCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImpvaW4iLCJjb25jYXQiLCJmaWx0ZXIiLCJkaXJlY3Rpb24iLCJwb3N0VGltZSIsInJlY2VpdmVUaW1lIiwiZHVyYXRpb24iLCJnZXRUaW1lIiwic29ydCIsIm9wdGlvbnMiLCJmcmFtZVBvc3RDbGllbnQiLCJob3N0IiwiY2xpZW50IiwiYWRkaXRpb25hbE1ldGhvZHMiLCJnZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcyIsIndyYXBwZWRNZXRob2RzIiwiZW50cmllcyIsIm1ldGhvZCIsImFyZ3MiLCJpc0VuYWJsZWQiLCJhc3NpZ24iLCJjYXBhYmlsaXRpZXMiLCJnZXRDb250ZXh0IiwiaW5jbHVkZXMiLCJEYXNoYm9hcmRDb2dNZW51TWFuYWdlciIsIkNhcGFiaWxpdHlNYW5hZ2VyIiwiVWlBcHBDYXBhYmlsaXR5VHlwZSIsIkRBU0hCT0FSRF9DT0dfTUVOVSIsImV2ZW50cyIsIlVpQXBwRXZlbnRUeXBlIiwiREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFQiLCJjYXBhYmlsaXR5TWFuYWdlcnMiLCJERUZBVUxUX09QVElPTlMiLCJIb3N0IiwiU1RBR0UiLCJzZGtWZXJzaW9uIiwiU0RLX1ZFUlNJT04iLCJNYW5hZ2VyIiwibWFuYWdlciIsImFwcGx5QWRkaXRpb25hbE1ldGhvZHMiLCJldmVudFR5cGUiLCJoYW5kbGVyIiwiZ2V0TWFuYWdlckJ5RXZlbnRUeXBlIiwib24iLCJjYXBhYmlsaXR5VHlwZSIsImZpbmQiLCJpbml0IiwiY2FsbGJhY2siLCJERENsaWVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIs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LElBSWxDLENBQ0gsUUFDQSxhQ3BCUitGLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVU5TCxRQUczQyxJQUFJQyxFQUFTMkwsRUFBeUJFLEdBQVksQ0FHakQ5TCxRQUFTLElBT1YsT0FIQStMLEVBQW9CRCxHQUFVaEksS0FBSzdELEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVM2TCxHQUdwRTVMLEVBQU9ELFFDakJSNkwsQ0FBb0IsSyxNREZ2QkQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkREX1NES1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJERF9TREtcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmZyYW1lcG9zdD10KCk6ZS5mcmFtZXBvc3Q9dCgpfShzZWxmLChmdW5jdGlvbigpe3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs1NzM6KGUsdCxzKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hpbGRDbGllbnQ9dm9pZCAwO2NvbnN0IGk9cyg2MDEpLG49cyg0NzMpLHI9cyg0MTYpO2NsYXNzIG8gZXh0ZW5kcyByLlNoYXJlZENsaWVudHtjb25zdHJ1Y3RvcihlPXt9KXtzdXBlcihlKSx0aGlzLmNvbnRleHQ9ZS5jb250ZXh0fHxudWxsLHRoaXMuaW5pdExpc3RlbmVyPXRoaXMuaW5pdExpc3RlbmVyLmJpbmQodGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5pbml0TGlzdGVuZXIpLHRoaXMucHJvZmlsZSYmdGhpcy5vblJlcXVlc3QoaS5SRVFVRVNUX0tFWV9HRVRfUFJPRklMRSwoKCk9PnRoaXMucHJvZmlsZXIuZ2V0RXZlbnRzKCkpKX1nZXRMb2dnZXIoKXtyZXR1cm4gbi5nZXRMb2dnZXIoXCJjaGlsZC1jbGllbnRcIix0aGlzLmRlYnVnKX1vbkNoYW5uZWxJbml0KGUpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuaW5pdExpc3RlbmVyKSx0aGlzLm1lc3NhZ2VQb3J0PWUucG9ydHNbMF07Y29uc3QgdD10aGlzLmdldEluaXRNZXNzYWdlKHRoaXMuY29udGV4dCk7dGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZSh0KSx0aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KGkuUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UsdCl9ZGVzdHJveSgpe3RoaXMubWVzc2FnZVBvcnQmJnRoaXMubWVzc2FnZVBvcnQuY2xvc2UoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLmluaXRMaXN0ZW5lcil9fXQuQ2hpbGRDbGllbnQ9b30sNjAxOihlLHQpPT57dmFyIHMsaSxuO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUkVRVUVTVF9LRVlfR0VUX1BST0ZJTEU9dC5SRVFVRVNUX1RJTUVPVVQ9dC5UcmFuc2FjdGlvbkRpcmVjdGlvbj10LlByb2ZpbGVFdmVudFR5cGU9dC5NZXNzYWdlQVBJVmVyc2lvbj10Lk1lc3NhZ2VUeXBlPXZvaWQgMCwobj10Lk1lc3NhZ2VUeXBlfHwodC5NZXNzYWdlVHlwZT17fSkpLkNIQU5ORUxfSU5JVD1cImNoYW5uZWxfaW5pdFwiLG4uRVZFTlQ9XCJldmVudFwiLG4uUkVRVUVTVD1cInJlcXVlc3RcIixuLlJFU1BPTlNFPVwicmVzcG9uc2VcIiwodC5NZXNzYWdlQVBJVmVyc2lvbnx8KHQuTWVzc2FnZUFQSVZlcnNpb249e30pKS52MT1cImZyYW1lcG9zdC92MVwiLChpPXQuUHJvZmlsZUV2ZW50VHlwZXx8KHQuUHJvZmlsZUV2ZW50VHlwZT17fSkpLlBPU1RfTUVTU0FHRT1cInBvc3RfbWVzc2FnZVwiLGkuUkVDRUlWRV9NRVNTQUdFPVwicmVjZWl2ZV9tZXNzYWdlXCIsKHM9dC5UcmFuc2FjdGlvbkRpcmVjdGlvbnx8KHQuVHJhbnNhY3Rpb25EaXJlY3Rpb249e30pKS5VUD1cInVwXCIscy5ET1dOPVwiZG93blwiLHQuUkVRVUVTVF9USU1FT1VUPTFlNCx0LlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFPVwiZnJhbWVwb3N0X2dldF9wcm9maWxlXCJ9LDYwNzpmdW5jdGlvbihlLHQscyl7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxzLGkpe3ZvaWQgMD09PWkmJihpPXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbc119fSl9OmZ1bmN0aW9uKGUsdCxzLGkpe3ZvaWQgMD09PWkmJihpPXMpLGVbaV09dFtzXX0pLG49dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBzIGluIGUpXCJkZWZhdWx0XCI9PT1zfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxzKXx8aSh0LGUscyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyZW50Q2xpZW50PXQuQ2hpbGRDbGllbnQ9dm9pZCAwO3ZhciByPXMoNTczKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkNoaWxkQ2xpZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuQ2hpbGRDbGllbnR9fSk7dmFyIG89cygxNjYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUGFyZW50Q2xpZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uUGFyZW50Q2xpZW50fX0pLG4ocyg2OTkpLHQpfSw0NzM6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldExvZ2dlcj12b2lkIDAsdC5nZXRMb2dnZXI9KGUsdCk9PnQ/e2xvZzp0PT5jb25zb2xlLmxvZyhgJHtlfTogJHt0fWApLGVycm9yOnQ9PmNvbnNvbGUuZXJyb3IoYCR7ZX06ICR7dH1gKX06e2xvZygpe30sZXJyb3IoKXt9fX0sMTY2OmZ1bmN0aW9uKGUsdCxzKXt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LHMsaSl7cmV0dXJuIG5ldyhzfHwocz1Qcm9taXNlKSkoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gbyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/bihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBzP3Q6bmV3IHMoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyZW50Q2xpZW50PXZvaWQgMDtjb25zdCBuPXMoNjAxKSxyPXMoNDczKSxvPXMoNDE2KSxhPXMoNTkzKTtjbGFzcyBjIGV4dGVuZHMgby5TaGFyZWRDbGllbnR7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSl9cmVxdWVzdENoYW5uZWwoZSx0KXtpZih0aGlzLnVybD1uZXcgVVJMKGUuc3JjKSxlLmNvbnRlbnRXaW5kb3cpe2NvbnN0IHM9bmV3IE1lc3NhZ2VDaGFubmVsO3RoaXMubWVzc2FnZVBvcnQ9cy5wb3J0MTtjb25zdCBpPXRoaXMuZ2V0SW5pdE1lc3NhZ2UodCk7dGhpcy5tZXNzYWdlUG9ydC5vbm1lc3NhZ2U9dGhpcy5pbml0TGlzdGVuZXIuYmluZCh0aGlzKSxlLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoaSx0aGlzLnVybC5vcmlnaW4sW3MucG9ydDJdKSx0aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KG4uUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UsaSl9fWdldE1lc3NhZ2VQcm9maWxlKCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBlPXlpZWxkIHRoaXMucmVxdWVzdChuLlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFKSx0PXRoaXMucHJvZmlsZXIuZ2V0RXZlbnRzKCk7cmV0dXJuIGEucHJvZmlsZU1lc3NhZ2VzKHQsZSl9KSl9b25DaGFubmVsSW5pdCgpe31nZXRMb2dnZXIoKXtyZXR1cm4gci5nZXRMb2dnZXIoXCJwYXJlbnQtY2xpZW50XCIsdGhpcy5kZWJ1Zyl9ZGVzdHJveSgpe3RoaXMubWVzc2FnZVBvcnQmJnRoaXMubWVzc2FnZVBvcnQuY2xvc2UoKX19dC5QYXJlbnRDbGllbnQ9Y30sODE5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRQcm9maWxlcj12b2lkIDAsdC5nZXRQcm9maWxlcj1lPT57Y29uc3QgdD1bXTtyZXR1cm57bG9nRXZlbnQocyxpKXtlJiZ0LnB1c2goe3R5cGU6cyxtZXNzYWdlOmksZGF0ZTpuZXcgRGF0ZX0pfSxnZXRFdmVudHM6KCk9PnR9fX0sNDE2OmZ1bmN0aW9uKGUsdCxzKXt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LHMsaSl7cmV0dXJuIG5ldyhzfHwocz1Qcm9taXNlKSkoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gbyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/bihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBzP3Q6bmV3IHMoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2hhcmVkQ2xpZW50PXZvaWQgMDtjb25zdCBuPXMoNjAxKSxyPXMoODE5KSxvPXMoNTkzKTt0LlNoYXJlZENsaWVudD1jbGFzc3tjb25zdHJ1Y3Rvcih7ZGVidWc6ZT0hMSxwcm9maWxlOnQ9ITEscmVxdWVzdFRpbWVvdXQ6cz1uLlJFUVVFU1RfVElNRU9VVH09e30pe3RoaXMuZGVidWc9ZSx0aGlzLnByb2ZpbGU9dCx0aGlzLnJlcXVlc3RUaW1lb3V0PXMsdGhpcy5jaGFubmVsPW8uZGVmZXIoKSx0aGlzLmV2ZW50U3Vic2NyaXB0aW9ucz17fSx0aGlzLnJlc3BvbnNlU3Vic2NyaXB0aW9ucz17fSx0aGlzLnJlcXVlc3RTdWJzY3JpcHRpb25zPXt9LHRoaXMubG9nZ2VyPXRoaXMuZ2V0TG9nZ2VyKCksdGhpcy5wcm9maWxlcj1yLmdldFByb2ZpbGVyKHQpLHRoaXMuY2hhbm5lbC5wcm9taXNlLnRoZW4oKCgpPT57dGhpcy5sb2dnZXIubG9nKFwiU2VjdXJlIHBhcmVudCA8LT4gY2hpbGQgY2hhbm5lbCBlc3RhYmxpc2hlZFwiKX0pKX1zZW5kKGUsdCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5wb3N0TWVzc2FnZShuLk1lc3NhZ2VUeXBlLkVWRU5ULGUsdCl9KSl9b24oZSx0KXt0aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1tlXXx8KHRoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdPXt9KTtjb25zdCBzPW8ucmFuZG9tSW5zZWN1cmVJZCg4KTtyZXR1cm4gdGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbZV1bc109dCx0aGlzLmxvZ2dlci5sb2coYFJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgZXZlbnQgXCIke2V9XCJgKSwoKT0+e3RoaXMuZXZlbnRTdWJzY3JpcHRpb25zW2VdPW8ub21pdCh0aGlzLmV2ZW50U3Vic2NyaXB0aW9uc1tlXSxzKSx0aGlzLmxvZ2dlci5sb2coXCJVbnN1YnNjcmliZWQgaGFuZGxlciBmb3IgZXZlbnQgXCIrZSl9fXJlcXVlc3QoZSx0KXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHM9eWllbGQgdGhpcy5wb3N0TWVzc2FnZShuLk1lc3NhZ2VUeXBlLlJFUVVFU1QsZSx0KSxpPSgpPT57dGhpcy5yZXNwb25zZVN1YnNjcmlwdGlvbnM9by5vbWl0KHRoaXMucmVzcG9uc2VTdWJzY3JpcHRpb25zLHMuaWQpfTtyZXR1cm4gbmV3IFByb21pc2UoKChlLHQpPT57bGV0IG47dGhpcy5yZXNwb25zZVN1YnNjcmlwdGlvbnNbcy5pZF09KHQscyk9PntjbGVhclRpbWVvdXQobiksaSgpLGUodCl9LG49c2V0VGltZW91dCgoKCk9PntpKCksdChcIlJlcXVlc3QgdGltZWQgb3V0XCIpfSksdGhpcy5yZXF1ZXN0VGltZW91dCl9KSl9KSl9b25SZXF1ZXN0KGUsdCl7cmV0dXJuIHRoaXMucmVxdWVzdFN1YnNjcmlwdGlvbnNbZV09KHMscik9PmkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIHQocyxyKTt0aGlzLnBvc3RNZXNzYWdlKG4uTWVzc2FnZVR5cGUuUkVTUE9OU0UsZSxpLHIuaWQpfSkpLCgpPT57dGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9ucz1vLm9taXQodGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9ucyxlKX19Z2V0Q29udGV4dCgpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7Y29udGV4dDplfT15aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZTtyZXR1cm4gZX0pKX1tZXNzYWdlTGlzdGVuZXIoZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZih5aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZSx0aGlzLmlzVmFsaWRNZXNzYWdlKGUpKXtzd2l0Y2goZS5kYXRhLnR5cGUpe2Nhc2Ugbi5NZXNzYWdlVHlwZS5FVkVOVDp0aGlzLmhhbmRsZUV2ZW50KGUpO2JyZWFrO2Nhc2Ugbi5NZXNzYWdlVHlwZS5SRVFVRVNUOnRoaXMuaGFuZGxlUmVxdWVzdChlKTticmVhaztjYXNlIG4uTWVzc2FnZVR5cGUuUkVTUE9OU0U6dGhpcy5oYW5kbGVSZXNwb25zZShlKX10aGlzLnByb2ZpbGVyLmxvZ0V2ZW50KG4uUHJvZmlsZUV2ZW50VHlwZS5SRUNFSVZFX01FU1NBR0UsZS5kYXRhKX1lbHNlIHRoaXMubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBtZXNzYWdlIGZvcm1hdC4gU2tpcHBpbmcuXCIpfSkpfWhhbmRsZUV2ZW50KGUpe2NvbnN0IHQ9ZS5kYXRhLHM9dGhpcy5ldmVudFN1YnNjcmlwdGlvbnNbdC5rZXldO3MmJk9iamVjdC52YWx1ZXMocykuZm9yRWFjaCgoZT0+ZSh0LmRhdGEsdCkpKX1oYW5kbGVSZXF1ZXN0KGUpe2NvbnN0IHQ9ZS5kYXRhLHM9dGhpcy5yZXF1ZXN0U3Vic2NyaXB0aW9uc1t0LmtleV07cyYmKHModC5kYXRhLHQpLHRoaXMubG9nZ2VyLmxvZyhcIkhhbmRsZWQgcmVxdWVzdCB0eXBlIFwiK3Qua2V5KSl9aGFuZGxlUmVzcG9uc2UoZSl7Y29uc3QgdD1lLmRhdGEscz10LnJlcXVlc3RJZCxpPXMmJnRoaXMucmVzcG9uc2VTdWJzY3JpcHRpb25zW3NdO2kmJmkodC5kYXRhLHQpfXBvc3RNZXNzYWdlKGUsdCxzLHIpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7cG9ydDppfT15aWVsZCB0aGlzLmNoYW5uZWwucHJvbWlzZSxhPXt0eXBlOmUsYXBpVmVyc2lvbjpuLk1lc3NhZ2VBUElWZXJzaW9uLnYxLGtleTp0LGRhdGE6cyxpZDpvLnJhbmRvbUluc2VjdXJlSWQoKSxyZXF1ZXN0SWQ6cn07cmV0dXJuIGkucG9zdE1lc3NhZ2UoYSksdGhpcy5wcm9maWxlci5sb2dFdmVudChuLlByb2ZpbGVFdmVudFR5cGUuUE9TVF9NRVNTQUdFLGEpLGF9KSl9aW5pdExpc3RlbmVyKGUpe3RoaXMuaXNJbml0TWVzc2FnZShlKT8odGhpcy5wcm9maWxlci5sb2dFdmVudChuLlByb2ZpbGVFdmVudFR5cGUuUkVDRUlWRV9NRVNTQUdFLGUuZGF0YSksdGhpcy5vbkNoYW5uZWxJbml0KGUpLHRoaXMubWVzc2FnZVBvcnQmJih0aGlzLm1lc3NhZ2VQb3J0Lm9ubWVzc2FnZT10aGlzLm1lc3NhZ2VMaXN0ZW5lci5iaW5kKHRoaXMpKSx0aGlzLnJlc29sdmVDaGFubmVsKGUpKTp0aGlzLmxvZ2dlci5lcnJvcihcIkludmFsaWQgbWVzc2FnZSBmb3JtYXQuIFNraXBwaW5nLlwiKX1pc1ZhbGlkTWVzc2FnZShlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC50eXBlJiZ0LmlkJiZ0LmFwaVZlcnNpb249PT1uLk1lc3NhZ2VBUElWZXJzaW9uLnYxfWlzSW5pdE1lc3NhZ2UoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZE1lc3NhZ2UoZSkmJmUuZGF0YS50eXBlPT09bi5NZXNzYWdlVHlwZS5DSEFOTkVMX0lOSVR9cmVzb2x2ZUNoYW5uZWwoZSl7aWYodGhpcy5tZXNzYWdlUG9ydCl7Y29uc3QgdD17cG9ydDp0aGlzLm1lc3NhZ2VQb3J0LG9yaWdpbjplLm9yaWdpbixjb250ZXh0OmUuZGF0YS5kYXRhfTt0aGlzLmNoYW5uZWwucmVzb2x2ZSh0KX19Z2V0SW5pdE1lc3NhZ2UoZSl7cmV0dXJue3R5cGU6bi5NZXNzYWdlVHlwZS5DSEFOTkVMX0lOSVQsYXBpVmVyc2lvbjpuLk1lc3NhZ2VBUElWZXJzaW9uLnYxLGtleTpcIlwiLGRhdGE6ZSxpZDpvLnJhbmRvbUluc2VjdXJlSWQoKX19fX0sNjk5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDU5MzpmdW5jdGlvbihlLHQscyl7dmFyIGk9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKGUsdCl7dmFyIHM9e307Zm9yKHZhciBpIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnQuaW5kZXhPZihpKTwwJiYoc1tpXT1lW2ldKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj0wO2ZvcihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bjxpLmxlbmd0aDtuKyspdC5pbmRleE9mKGlbbl0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGlbbl0pJiYoc1tpW25dXT1lW2lbbl1dKX1yZXR1cm4gc307T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wcm9maWxlTWVzc2FnZXM9dC5vbWl0PXQucmFuZG9tSW5zZWN1cmVJZD10LmRlZmVyPXZvaWQgMDtjb25zdCBuPXMoNjAxKTt0LmRlZmVyPSgpPT57bGV0IGU9KCk9Pnt9LHQ9KCk9Pnt9O2NvbnN0IHM9bmV3IFByb21pc2UoKChzLGkpPT57ZT1zLHQ9aX0pKTtyZXR1cm57cmVzb2x2ZTplLHJlamVjdDp0LHByb21pc2U6c319LHQucmFuZG9tSW5zZWN1cmVJZD0oZT0xNik9PlsuLi5BcnJheShlKV0ubWFwKCgoKT0+KH5+KDM2Kk1hdGgucmFuZG9tKCkpKS50b1N0cmluZygzNikpKS5qb2luKFwiXCIpLHQub21pdD0oZSx0KT0+e2NvbnN0IHM9ZSxuPXQ7cmV0dXJuIHNbbl0saShzLFtcInN5bWJvbFwiPT10eXBlb2Ygbj9uOm4rXCJcIl0pfSx0LnByb2ZpbGVNZXNzYWdlcz0oZSx0KT0+e2NvbnN0IHM9KChlLHQpPT57Y29uc3Qgcz17fTtyZXR1cm4gZS5mb3JFYWNoKChlPT57c1soZT0+ZS5tZXNzYWdlLmlkKShlKV09ZX0pKSxzfSkoZS5jb25jYXQodCkuZmlsdGVyKChlPT5lLnR5cGU9PT1uLlByb2ZpbGVFdmVudFR5cGUuUkVDRUlWRV9NRVNTQUdFKSkpLGk9W10scj0oe2RhdGU6ZSxtZXNzYWdlOnR9KT0+e2NvbnN0IGk9e2lkOnQuaWQsZGlyZWN0aW9uOm4uVHJhbnNhY3Rpb25EaXJlY3Rpb24uRE9XTixwb3N0VGltZTplLG1lc3NhZ2U6dH0scj1zW3QuaWRdO3JldHVybiByJiYoaS5yZWNlaXZlVGltZT1yLmRhdGUsaS5kdXJhdGlvbj0oci5kYXRlLmdldFRpbWUoKS1lLmdldFRpbWUoKSkvMWUzKSxpfTtyZXR1cm4gZS5maWx0ZXIoKGU9PmUudHlwZT09PW4uUHJvZmlsZUV2ZW50VHlwZS5QT1NUX01FU1NBR0UpKS5mb3JFYWNoKChlPT57Y29uc3QgdD1yKGUpO2kucHVzaCh0KX0pKSx0LmZpbHRlcigoZT0+ZS50eXBlPT09bi5Qcm9maWxlRXZlbnRUeXBlLlBPU1RfTUVTU0FHRSkpLmZvckVhY2goKGU9Pntjb25zdCB0PXIoZSk7dC5kaXJlY3Rpb249bi5UcmFuc2FjdGlvbkRpcmVjdGlvbi5VUCxpLnB1c2godCl9KSksaS5maWx0ZXIoKGU9PmUubWVzc2FnZS5rZXkhPT1uLlJFUVVFU1RfS0VZX0dFVF9QUk9GSUxFKSkuc29ydCgoKGUsdCk9PmUucG9zdFRpbWUuZ2V0VGltZSgpLXQucG9zdFRpbWUuZ2V0VGltZSgpKSl9fX0sdD17fTtyZXR1cm4gZnVuY3Rpb24gcyhpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIG49dFtpXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChuLmV4cG9ydHMsbixuLmV4cG9ydHMscyksbi5leHBvcnRzfSg2MDcpfSkoKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyYW1lcG9zdC5taW4uanMubWFwIiwiaW1wb3J0IHR5cGUgeyBDaGlsZENsaWVudCB9IGZyb20gJ0BkYXRhZG9nL2ZyYW1lcG9zdCc7XG5cbmltcG9ydCB0eXBlIHsgRERDbGllbnQgfSBmcm9tICcuLi9jbGllbnQnO1xuaW1wb3J0IHsgVWlBcHBDYXBhYmlsaXR5VHlwZSwgVWlBcHBFdmVudFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyLCBMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQXBwQ29udGV4dCwgQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhcGFiaWxpdHlNYW5hZ2VyIHtcbiAgICBhYnN0cmFjdCB0eXBlOiBVaUFwcENhcGFiaWxpdHlUeXBlO1xuICAgIGFic3RyYWN0IGV2ZW50czogVWlBcHBFdmVudFR5cGVbXTtcblxuICAgIHByb3RlY3RlZCByZWFkb25seSBob3N0OiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRlYnVnOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDxBcHBDb250ZXh0PjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvcHRpb25zOiBSZXF1aXJlZDxDbGllbnRPcHRpb25zPixcbiAgICAgICAgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDxBcHBDb250ZXh0PlxuICAgICkge1xuICAgICAgICB0aGlzLmhvc3QgPSBvcHRpb25zLmhvc3Q7XG4gICAgICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5mcmFtZVBvc3RDbGllbnQgPSBmcmFtZVBvc3RDbGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwbGFjZSBmb3IgZXZlbnR1YWwgZXh0ZW5zaW9ucyBvZiB0aGUgYmFzZSBjbGllbnQgbWV0aG9kcywgc3BlY2lmaWMgdG8gYSBjYXBhYmlsaXR5XG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBwcml2YXRlIGdldEFkZGl0aW9uYWxDbGllbnRNZXRob2RzKCk6IHsgW25hbWU6IHN0cmluZ106IEZ1bmN0aW9uIH0ge1xuICAgICAqICAgcmV0dXJuICB7XG4gICAgICogICAgIGdldFRpbWVTZXJpZXM6ICgpID0+IHRoaXMuZ2V0VGltZVNlcmllcygpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBnZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcygpOiB7IFtuYW1lOiBzdHJpbmddOiBGdW5jdGlvbiB9O1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYWRkaXRpb25hbCBtZXRob2RzIGluIGEgY2hlY2sgYWdhaW5zdCB0aGUgY2FwYWJpbGl0eSB0eXBlLCB0aGVuIGFwcGxpZXMgdG8gcHJvdmlkZWQgY2xpZW50IG9iamVjdC4gRG8gbm90IG92ZXJyaWRlXG4gICAgICovXG4gICAgYXBwbHlBZGRpdGlvbmFsTWV0aG9kcyhjbGllbnQ6IEREQ2xpZW50KSB7XG4gICAgICAgIGNvbnN0IGFkZGl0aW9uYWxNZXRob2RzID0gdGhpcy5nZXRBZGRpdGlvbmFsQ2xpZW50TWV0aG9kcygpO1xuXG4gICAgICAgIGNvbnN0IHdyYXBwZWRNZXRob2RzOiB7IFtuYW1lOiBzdHJpbmddOiBGdW5jdGlvbiB9ID0ge307XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYWRkaXRpb25hbE1ldGhvZHMpLmZvckVhY2goKFtrZXksIG1ldGhvZF0pID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRNZXRob2RzW2tleV0gPSBhc3luYyAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSBhd2FpdCB0aGlzLmlzRW5hYmxlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFRoZSAke3RoaXMudHlwZX0gY2FwYWJpbGl0eSBtdXN0IGJlIGVuYWJsZWQgdG8gcGVyZm9ybSB0aGlzIGFjdGlvbmBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKGNsaWVudCwgd3JhcHBlZE1ldGhvZHMpO1xuICAgIH1cblxuICAgIGFzeW5jIGlzRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgeyBjYXBhYmlsaXRpZXMgfSA9IGF3YWl0IHRoaXMuZnJhbWVQb3N0Q2xpZW50LmdldENvbnRleHQoKTtcblxuICAgICAgICByZXR1cm4gY2FwYWJpbGl0aWVzLmluY2x1ZGVzKHRoaXMudHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVWlBcHBDYXBhYmlsaXR5VHlwZSwgVWlBcHBFdmVudFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBDYXBhYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vY2FwYWJpbGl0eU1hbmFnZXInO1xuXG5leHBvcnQgdHlwZSB7IENhcGFiaWxpdHlNYW5hZ2VyIH0gZnJvbSAnLi9jYXBhYmlsaXR5TWFuYWdlcic7XG5cbmNsYXNzIERhc2hib2FyZENvZ01lbnVNYW5hZ2VyIGV4dGVuZHMgQ2FwYWJpbGl0eU1hbmFnZXIge1xuICAgIHR5cGUgPSBVaUFwcENhcGFiaWxpdHlUeXBlLkRBU0hCT0FSRF9DT0dfTUVOVTtcbiAgICBldmVudHMgPSBbVWlBcHBFdmVudFR5cGUuREFTSEJPQVJEX0NPR19NRU5VX0NPTlRFWFRdO1xuXG4gICAgZ2V0QWRkaXRpb25hbENsaWVudE1ldGhvZHMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjYXBhYmlsaXR5TWFuYWdlcnMgPSBbRGFzaGJvYXJkQ29nTWVudU1hbmFnZXJdO1xuIiwiaW1wb3J0IHsgQ2hpbGRDbGllbnQgfSBmcm9tICdAZGF0YWRvZy9mcmFtZXBvc3QnO1xuXG5pbXBvcnQgeyBDYXBhYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vY2FwYWJpbGl0ZXMvY2FwYWJpbGl0eU1hbmFnZXInO1xuaW1wb3J0IHsgY2FwYWJpbGl0eU1hbmFnZXJzIH0gZnJvbSAnLi9jYXBhYmlsaXRlcyc7XG5pbXBvcnQge1xuICAgIEhvc3QsXG4gICAgVWlBcHBDYXBhYmlsaXR5VHlwZSxcbiAgICBVaUFwcEV2ZW50VHlwZSxcbiAgICBTREtfVkVSU0lPTlxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IEFwcENvbnRleHQsIEZyYW1lQ29udGV4dCwgRXZlbnRIYW5kbGVyLCBDbGllbnRPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBob3N0OiBIb3N0LlNUQUdFLFxuICAgIGRlYnVnOiBmYWxzZVxufTtcblxuZXhwb3J0IGNsYXNzIEREQ2xpZW50IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhvc3Q6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlYnVnOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZnJhbWVQb3N0Q2xpZW50OiBDaGlsZENsaWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICAgIHByaXZhdGUgY2FwYWJpbGl0eU1hbmFnZXJzOiBDYXBhYmlsaXR5TWFuYWdlcltdO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCBERUZBVUxUX09QVElPTlMuaG9zdDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG9wdGlvbnMuZGVidWcgfHwgREVGQVVMVF9PUFRJT05TLmRlYnVnO1xuXG4gICAgICAgIHRoaXMuZnJhbWVQb3N0Q2xpZW50ID0gbmV3IENoaWxkQ2xpZW50PEFwcENvbnRleHQ+KHtcbiAgICAgICAgICAgIGRlYnVnOiB0aGlzLmRlYnVnLFxuICAgICAgICAgICAgcHJvZmlsZTogdGhpcy5kZWJ1ZyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICBzZGtWZXJzaW9uOiBTREtfVkVSU0lPTlxuICAgICAgICAgICAgfSBhcyBGcmFtZUNvbnRleHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jYXBhYmlsaXR5TWFuYWdlcnMgPSBjYXBhYmlsaXR5TWFuYWdlcnMubWFwKFxuICAgICAgICAgICAgTWFuYWdlciA9PlxuICAgICAgICAgICAgICAgIG5ldyBNYW5hZ2VyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogdGhpcy5kZWJ1Z1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lUG9zdENsaWVudFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5mb3JFYWNoKG1hbmFnZXIgPT5cbiAgICAgICAgICAgIG1hbmFnZXIuYXBwbHlBZGRpdGlvbmFsTWV0aG9kcyh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciB0byBleGVjdXRlIG9uIGEgY2VydGFpbiBldmVudCB0eXBlIGZyb20gdGhlIHBhcmVudC4gV2lsbCBwcmludFxuICAgICAqIGFuIGVycm9yIGlmIHRoZSBpbnN0YWxsZWQgYXBwIGRvZXMgbm90IGhhdmUgdGhlIHJlcXVpcmVkIGNhcGFiaWxpdHkuIFJldHVybnMgYW4gdW5zdWJzY3JpYmVcbiAgICAgKiBtZXRob2QuIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgYmVmb3JlIGhhbmRzaGFrZSBpcyBzdWNjZXNzZnVsLCBidXQgaGFuZGxlcnMgd2lsbCBub3QgZXhlY3V0ZSB1bnRpbFxuICAgICAqIGFmdGVyIHN1Y2Nlc3NzZnVsIGhhbmRzaGFrZS5cbiAgICAgKi9cbiAgICBvbjxUID0gYW55PihcbiAgICAgICAgZXZlbnRUeXBlOiBVaUFwcEV2ZW50VHlwZSxcbiAgICAgICAgaGFuZGxlcjogRXZlbnRIYW5kbGVyPFQ+XG4gICAgKTogKCkgPT4gdm9pZCB7XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzLmdldE1hbmFnZXJCeUV2ZW50VHlwZShldmVudFR5cGUpO1xuXG4gICAgICAgIGlmICghbWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1Vua25vd24gZXZlbnQgdHlwZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3cmFwcGVkSGFuZGxlcjogRXZlbnRIYW5kbGVyPFQ+ID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IGF3YWl0IG1hbmFnZXIuaXNFbmFibGVkKCk7XG5cbiAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFRoZSAke21hbmFnZXIudHlwZX0gY2FwYWJpbGl0eSBtdXN0IGJlIGVuYWJsZWQgdG8gcmVzcG9uZCB0byBldmVudHMgb2YgdHlwZSAke2V2ZW50VHlwZX0uYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVQb3N0Q2xpZW50Lm9uKGV2ZW50VHlwZSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYXBwIGNvbnRleHQgZGF0YSwgYWZ0ZXIgaXQgaXMgc2VudCBmcm9tIHRoZSBwYXJlbnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDb250ZXh0KCk6IFByb21pc2U8QXBwQ29udGV4dD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZVBvc3RDbGllbnQuZ2V0Q29udGV4dCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFuYWdlckJ5VHlwZShcbiAgICAgICAgY2FwYWJpbGl0eVR5cGU6IFVpQXBwQ2FwYWJpbGl0eVR5cGVcbiAgICApOiBDYXBhYmlsaXR5TWFuYWdlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5maW5kKFxuICAgICAgICAgICAgbWFuYWdlciA9PiBtYW5hZ2VyLnR5cGUgPT09IGNhcGFiaWxpdHlUeXBlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRNYW5hZ2VyQnlFdmVudFR5cGUoXG4gICAgICAgIGV2ZW50VHlwZTogVWlBcHBFdmVudFR5cGVcbiAgICApOiBDYXBhYmlsaXR5TWFuYWdlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFiaWxpdHlNYW5hZ2Vycy5maW5kKG1hbmFnZXIgPT5cbiAgICAgICAgICAgIG1hbmFnZXIuZXZlbnRzLmluY2x1ZGVzKGV2ZW50VHlwZSlcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZW51bSBIb3N0IHtcbiAgICBQUk9EID0gJ2h0dHBzOi8vYXBwLmRhdGFkb2docS5jb20vJyxcbiAgICBTVEFHRSA9ICdodHRwczovL2RkLmRhdGFkMGcuY29tLydcbn1cblxuZXhwb3J0IGVudW0gVWlBcHBDYXBhYmlsaXR5VHlwZSB7XG4gICAgQVBQX0NPTlRFWFQgPSAnYXBwX2NvbnRleHQnLFxuICAgIERBU0hCT0FSRF9DT0dfTUVOVSA9ICdkYXNoYm9hcmRfY29nX21lbnUnXG59XG5cbmV4cG9ydCBlbnVtIFVpQXBwRXZlbnRUeXBlIHtcbiAgICBEQVNIQk9BUkRfQ09HX01FTlVfQ09OVEVYVCA9ICdkYXNoYm9hcmRfY29nX21lbnVfY29udGV4dCdcbn1cblxuZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzAuMS4wJztcbiIsImltcG9ydCB7IEREQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgQXBwQ29udGV4dCwgQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgY2xpZW50OiBERENsaWVudDtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIGNsaWVudCwgb3IgcmV0dXJucyBhbiBleGlzdGluZyBvbmUgaWYgYWxyZWFkeSBpbml0aWFsaXplZC4gVXNlciBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2l0aCBhcHAgY29udGV4dCBkYXRhIHdoZW4gaXQgaXMgc2VudCBmcm9tIHRoZSBwYXJlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0ID0gKFxuICAgIG9wdGlvbnM/OiBDbGllbnRPcHRpb25zLFxuICAgIGNhbGxiYWNrPzogKGNvbnRleHQ6IEFwcENvbnRleHQpID0+IHZvaWRcbik6IEREQ2xpZW50ID0+IHtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICBjbGllbnQgPSBuZXcgRERDbGllbnQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNsaWVudC5nZXRDb250ZXh0KCkudGhlbihjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDbGllbnRPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgICBsb2cobWVzc2FnZTogc3RyaW5nKTogdm9pZDtcbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKG9wdGlvbnM6IENsaWVudE9wdGlvbnMpOiBMb2dnZXIgPT4ge1xuICAgIGlmIChvcHRpb25zLmRlYnVnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2cobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGBkZC1hcHBzOiAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYGRkLWFwcHM6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9nKCkge30sXG4gICAgICAgICAgICBlcnJvcigpIHt9XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=